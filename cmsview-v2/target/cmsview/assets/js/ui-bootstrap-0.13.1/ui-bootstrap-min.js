angular.module("ui.bootstrap",["ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]);angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(a){return{link:function(f,d,c){function e(){d.removeClass("collapse").addClass("collapsing").attr("aria-expanded",true).attr("aria-hidden",false);a.addClass(d,"in",{to:{height:d[0].scrollHeight+"px"}}).then(g)}function g(){d.removeClass("collapsing");d.css({height:"auto"})}function h(){if(!d.hasClass("collapse")&&!d.hasClass("in")){return b()}d.css({height:d[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",false).attr("aria-hidden",true);a.removeClass(d,"in",{to:{height:"0"}}).then(b)}function b(){d.css({height:"0"});d.removeClass("collapsing");d.addClass("collapse")}f.$watch(c.collapse,function(i){if(i){h()}else{e()}})}}}]);angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:true}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(c,a,b){this.groups=[];this.closeOthers=function(e){var d=angular.isDefined(a.closeOthers)?c.$eval(a.closeOthers):b.closeOthers;if(d){angular.forEach(this.groups,function(f){if(f!==e){f.isOpen=false}})}};this.addGroup=function(e){var d=this;this.groups.push(e);e.$on("$destroy",function(f){d.removeGroup(e)})};this.removeGroup=function(e){var d=this.groups.indexOf(e);if(d!==-1){this.groups.splice(d,1)}}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:true,replace:false,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:true,replace:true,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(d,b,a,c){c.addGroup(d);d.$watch("isOpen",function(e){if(e){c.closeOthers(d)}});d.toggleOpen=function(){if(!d.isDisabled){d.isOpen=!d.isOpen}}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:true,template:"",replace:true,require:"^accordionGroup",link:function(d,c,a,e,b){e.setHeading(b(d,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(d,c,a,b){d.$watch(function(){return b[a.accordionTransclude]},function(e){if(e){c.html("");c.append(e)}})}}});angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(b,a){b.closeable=!!a.close;this.close=b.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:true,replace:true,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(a){return{require:"alert",link:function(d,c,b,e){a(function(){e.close()},parseInt(b.dismissOnTimeout,10))}}}]);angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",false).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(b,a){return function(e,d,c){if(!a){b.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead")}d.addClass("ng-binding").data("$binding",c.bindHtmlUnsafe);e.$watch(c.bindHtmlUnsafe,function f(g){d.html(g||"")})}}]);angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(a){this.activeClass=a.activeClass||"active";this.toggleEvent=a.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(f,e,d,b){var a=b[0],c=b[1];c.$render=function(){e.toggleClass(a.activeClass,angular.equals(c.$modelValue,f.$eval(d.btnRadio)))};e.bind(a.toggleEvent,function(){var g=e.hasClass(a.activeClass);if(!g||angular.isDefined(d.uncheckable)){f.$apply(function(){c.$setViewValue(g?null:f.$eval(d.btnRadio));c.$render()})}})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(h,f,g,e){var c=e[0],b=e[1];function d(){return a(g.btnCheckboxTrue,true)}function i(){return a(g.btnCheckboxFalse,false)}function a(k,j){var l=h.$eval(k);return angular.isDefined(l)?l:j}b.$render=function(){f.toggleClass(c.activeClass,angular.equals(b.$modelValue,d()))};f.bind(c.toggleEvent,function(){h.$apply(function(){b.$setViewValue(f.hasClass(c.activeClass)?i():d());b.$render()})})}}});angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function(k,l,e,g){var o=this,a=o.slides=k.slides=[],d="uib-noTransition",q="uib-slideDirection",f=-1,n,c;o.currentSlide=null;var m=false;o.select=k.select=function(t,s){var r=o.indexOfSlide(t);if(s===undefined){s=r>o.getCurrentIndex()?"next":"prev"}if(t&&t!==o.currentSlide&&!k.$currentTransition){i(t,r,s)}};function i(r,s,t){if(m){return}angular.extend(r,{direction:t,active:true});angular.extend(o.currentSlide||{},{direction:t,active:false});if(g.enabled()&&!k.noTransition&&!k.$currentTransition&&r.$element){r.$element.data(q,r.direction);k.$currentTransition=true;r.$element.one("$animate:close",function u(){k.$currentTransition=null})}o.currentSlide=r;f=s;j()}k.$on("$destroy",function(){m=true});function h(s){if(angular.isUndefined(a[s].index)){return a[s]}var t,r=a.length;for(t=0;t<a.length;++t){if(a[t].index==s){return a[t]}}}o.getCurrentIndex=function(){if(o.currentSlide&&angular.isDefined(o.currentSlide.index)){return +o.currentSlide.index}return f};o.indexOfSlide=function(r){return angular.isDefined(r.index)?+r.index:a.indexOf(r)};k.next=function(){var r=(o.getCurrentIndex()+1)%a.length;if(r===0&&k.noWrap()){k.pause();return}return o.select(h(r),"next")};k.prev=function(){var r=o.getCurrentIndex()-1<0?a.length-1:o.getCurrentIndex()-1;if(k.noWrap()&&r===a.length-1){k.pause();return}return o.select(h(r),"prev")};k.isActive=function(r){return o.currentSlide===r};k.$watch("interval",j);k.$on("$destroy",b);function j(){b();var r=+k.interval;if(!isNaN(r)&&r>0){n=e(p,r)}}function b(){if(n){e.cancel(n);n=null}}function p(){var r=+k.interval;if(c&&!isNaN(r)&&r>0&&a.length){k.next()}else{k.pause()}}k.play=function(){if(!c){c=true;j()}};k.pause=function(){if(!k.noPause){c=false;b()}};o.addSlide=function(r,s){r.$element=s;a.push(r);if(a.length===1||r.active){o.select(a[a.length-1]);if(a.length==1){k.play()}}else{r.active=false}};o.removeSlide=function(r){if(angular.isDefined(r.index)){a.sort(function(u,t){return +u.index>+t.index})}var s=a.indexOf(r);a.splice(s,1);if(a.length>0&&r.active){if(s>=a.length){o.select(a[s-1])}else{o.select(a[s])}}else{if(f>s){f--}}};k.$watch("noTransition",function(r){l.data(d,r)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:true,replace:true,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:true,replace:true,templateUrl:"template/carousel/slide.html",scope:{active:"=?",index:"=?"},link:function(c,b,a,d){d.addSlide(c,b);c.$on("$destroy",function(){d.removeSlide(c)});c.$watch("active",function(e){if(e){d.select(c)}})}}}).animation(".item",["$animate",function(c){var b="uib-noTransition",a="uib-slideDirection";return{beforeAddClass:function(e,f,d){if(f=="active"&&e.parent()&&!e.parent().data(b)){var i=false;var h=e.data(a);var g=h=="next"?"left":"right";e.addClass(h);c.addClass(e,g).then(function(){if(!i){e.removeClass(g+" "+h)}d()});return function(){i=true}}d()},beforeRemoveClass:function(e,f,d){if(f=="active"&&e.parent()&&!e.parent().data(b)){var i=false;var h=e.data(a);var g=h=="next"?"left":"right";c.addClass(e,g).then(function(){if(!i){e.removeClass(g)}d()});return function(){i=true}}d()}}}]);angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(b,d){var a=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var c={yyyy:{regex:"\\d{4}",apply:function(g){this.year=+g}},yy:{regex:"\\d{2}",apply:function(g){this.year=+g+2000}},y:{regex:"\\d{1,4}",apply:function(g){this.year=+g}},MMMM:{regex:b.DATETIME_FORMATS.MONTH.join("|"),apply:function(g){this.month=b.DATETIME_FORMATS.MONTH.indexOf(g)}},MMM:{regex:b.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(g){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(g)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(g){this.month=g-1}},M:{regex:"[1-9]|1[0-2]",apply:function(g){this.month=g-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(g){this.date=+g}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(g){this.date=+g}},EEEE:{regex:b.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:b.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(g){this.hours=+g}},H:{regex:"1?[0-9]|2[0-3]",apply:function(g){this.hours=+g}},mm:{regex:"[0-5][0-9]",apply:function(g){this.minutes=+g}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(g){this.minutes=+g}},sss:{regex:"[0-9][0-9][0-9]",apply:function(g){this.milliseconds=+g}},ss:{regex:"[0-5][0-9]",apply:function(g){this.seconds=+g}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(g){this.seconds=+g}}};function f(i){var h=[],g=i.split("");angular.forEach(c,function(m,l){var j=i.indexOf(l);if(j>-1){i=i.split("");g[j]="("+m.regex+")";i[j]="$";for(var k=j+1,o=j+l.length;k<o;k++){g[k]="";i[k]="$"}i=i.join("");h.push({index:j,apply:m.apply})}});return{regex:new RegExp("^"+g.join("")+"$"),map:d(h,"index")}}this.parse=function(s,t,m){if(!angular.isString(s)||!t){return s}t=b.DATETIME_FORMATS[t]||t;t=t.replace(a,"\\$&");if(!this.parsers[t]){this.parsers[t]=f(t)}var h=this.parsers[t],r=h.regex,j=h.map,p=s.match(r);if(p&&p.length){var q,k;if(m){q={year:m.getFullYear(),month:m.getMonth(),date:m.getDate(),hours:m.getHours(),minutes:m.getMinutes(),seconds:m.getSeconds(),milliseconds:m.getMilliseconds()}}else{q={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0}}for(var o=1,l=p.length;o<l;o++){var g=j[o-1];if(g.apply){g.apply.call(q,p[o])}}if(e(q.year,q.month,q.date)){k=new Date(q.year,q.month,q.date,q.hours,q.minutes,q.seconds,q.milliseconds||0)}return k}};function e(h,i,g){if(g<1){return false}if(i===1&&g>28){return g===29&&((h%4===0&&h%100!==0)||h%400===0)}if(i===3||i===5||i===8||i===10){return g<31}return true}}]);angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(d,c){function a(f,g){if(f.currentStyle){return f.currentStyle[g]}else{if(c.getComputedStyle){return c.getComputedStyle(f)[g]}}return f.style[g]}function e(f){return(a(f,"position")||"static")==="static"}var b=function(g){var f=d[0];var h=g.offsetParent||f;while(h&&h!==f&&e(h)){h=h.offsetParent}return h||f};return{position:function(g){var f=this.offset(g);var j={top:0,left:0};var h=b(g[0]);if(h!=d[0]){j=this.offset(angular.element(h));j.top+=h.clientTop-h.scrollTop;j.left+=h.clientLeft-h.scrollLeft}var i=g[0].getBoundingClientRect();return{width:i.width||g.prop("offsetWidth"),height:i.height||g.prop("offsetHeight"),top:f.top-j.top,left:f.left-j.left}},offset:function(f){var g=f[0].getBoundingClientRect();return{width:g.width||f.prop("offsetWidth"),height:g.height||f.prop("offsetHeight"),top:g.top+(c.pageYOffset||d[0].documentElement.scrollTop),left:g.left+(c.pageXOffset||d[0].documentElement.scrollLeft)}},positionElements:function(p,r,k,n){var i=k.split("-");var q=i[0],o=i[1]||"center";var l,f,h,j;l=n?this.offset(p):this.position(p);f=r.prop("offsetWidth");h=r.prop("offsetHeight");var g={center:function(){return l.left+l.width/2-f/2},left:function(){return l.left},right:function(){return l.left+l.width}};var m={center:function(){return l.top+l.height/2-h/2},top:function(){return l.top},bottom:function(){return l.top+l.height}};switch(q){case"right":j={top:m[o](),left:g[q]()};break;case"left":j={top:m[o](),left:l.left-f};break;case"bottom":j={top:m[q](),left:g[o]()};break;default:j={top:l.top-h,left:g[o]()};break}return j}}}]);angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:true,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:false}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig",function(g,f,b,e,j,d,c){var h=this,a={$setViewValue:angular.noop};this.modes=["day","month","year"];angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(l,k){h[l]=angular.isDefined(f[l])?(k<8?e(f[l])(g.$parent):g.$parent.$eval(f[l])):c[l]});angular.forEach(["minDate","maxDate"],function(k){if(f[k]){g.$parent.$watch(b(f[k]),function(l){h[k]=l?new Date(l):null;h.refreshView()})}else{h[k]=c[k]?new Date(c[k]):null}});g.datepickerMode=g.datepickerMode||c.datepickerMode;g.maxMode=h.maxMode;g.uniqueId="datepicker-"+g.$id+"-"+Math.floor(Math.random()*10000);if(angular.isDefined(f.initDate)){this.activeDate=g.$parent.$eval(f.initDate)||new Date();g.$parent.$watch(f.initDate,function(k){if(k&&(a.$isEmpty(a.$modelValue)||a.$invalid)){h.activeDate=k;h.refreshView()}})}else{this.activeDate=new Date()}g.isActive=function(k){if(h.compare(k.date,h.activeDate)===0){g.activeDateId=k.uid;return true}return false};this.init=function(k){a=k;a.$render=function(){h.render()}};this.render=function(){if(a.$viewValue){var k=new Date(a.$viewValue),l=!isNaN(k);if(l){this.activeDate=k}else{j.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}a.$setValidity("date",l)}this.refreshView()};this.refreshView=function(){if(this.element){this._refreshView();var k=a.$viewValue?new Date(a.$viewValue):null;a.$setValidity("date-disabled",!k||(this.element&&!this.isDisabled(k)))}};this.createDateObject=function(l,m){var k=a.$viewValue?new Date(a.$viewValue):null;return{date:l,label:d(l,m),selected:k&&this.compare(l,k)===0,disabled:this.isDisabled(l),current:this.compare(l,new Date())===0,customClass:this.customClass(l)}};this.isDisabled=function(k){return((this.minDate&&this.compare(k,this.minDate)<0)||(this.maxDate&&this.compare(k,this.maxDate)>0)||(f.dateDisabled&&g.dateDisabled({date:k,mode:g.datepickerMode})))};this.customClass=function(k){return g.customClass({date:k,mode:g.datepickerMode})};this.split=function(k,l){var m=[];while(k.length>0){m.push(k.splice(0,l))}return m};this.fixTimeZone=function(l){var k=l.getHours();l.setHours(k===23?k+2:0)};g.select=function(k){if(g.datepickerMode===h.minMode){var l=a.$viewValue?new Date(a.$viewValue):new Date(0,0,0,0,0,0,0);l.setFullYear(k.getFullYear(),k.getMonth(),k.getDate());a.$setViewValue(l);a.$render()}else{h.activeDate=k;g.datepickerMode=h.modes[h.modes.indexOf(g.datepickerMode)-1]}};g.move=function(m){var k=h.activeDate.getFullYear()+m*(h.step.years||0),l=h.activeDate.getMonth()+m*(h.step.months||0);h.activeDate.setFullYear(k,l,1);h.refreshView()};g.toggleMode=function(k){k=k||1;if((g.datepickerMode===h.maxMode&&k===1)||(g.datepickerMode===h.minMode&&k===-1)){return}g.datepickerMode=h.modes[h.modes.indexOf(g.datepickerMode)+k]};g.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var i=function(){h.element[0].focus()};g.$on("datepicker.focus",i);g.keydown=function(k){var l=g.keys[k.which];if(!l||k.shiftKey||k.altKey){return}k.preventDefault();if(!h.shortcutPropagation){k.stopPropagation()}if(l==="enter"||l==="space"){if(h.isDisabled(h.activeDate)){return}g.select(h.activeDate);i()}else{if(k.ctrlKey&&(l==="up"||l==="down")){g.toggleMode(l==="up"?1:-1);i()}else{h.handleKeyDown(l,k);h.refreshView()}}}}]).directive("datepicker",function(){return{restrict:"EA",replace:true,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,d,c,a){var f=a[0],b=a[1];if(b){f.init(b)}}}}).directive("daypicker",["dateFilter",function(a){return{restrict:"EA",replace:true,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(f,e,c,g){f.showWeeks=g.showWeeks;g.step={months:1};g.element=e;var i=[31,28,31,30,31,30,31,31,30,31,30,31];function d(j,k){return((k===1)&&(j%4===0)&&((j%100!==0)||(j%400===0)))?29:i[k]}function b(j,p){var o=new Array(p),m=new Date(j),l=0,k;while(l<p){k=new Date(m);g.fixTimeZone(k);o[l++]=k;m.setDate(m.getDate()+1)}return o}g._refreshView=function(){var s=g.activeDate.getFullYear(),r=g.activeDate.getMonth(),t=new Date(s,r,1),n=g.startingDay-t.getDay(),v=(n>0)?7-n:-n,k=new Date(t);if(v>0){k.setDate(-v+1)}var u=b(k,42);for(var p=0;p<42;p++){u[p]=angular.extend(g.createDateObject(u[p],g.formatDay),{secondary:u[p].getMonth()!==r,uid:f.uniqueId+"-"+p})}f.labels=new Array(7);for(var o=0;o<7;o++){f.labels[o]={abbr:a(u[o].date,g.formatDayHeader),full:a(u[o].date,"EEEE")}}f.title=a(g.activeDate,g.formatDayTitle);f.rows=g.split(u,7);if(f.showWeeks){f.weekNumbers=[];var q=(4+7-g.startingDay)%7,l=f.rows.length;for(var m=0;m<l;m++){f.weekNumbers.push(h(f.rows[m][q].date))}}};g.compare=function(k,j){return(new Date(k.getFullYear(),k.getMonth(),k.getDate())-new Date(j.getFullYear(),j.getMonth(),j.getDate()))};function h(j){var l=new Date(j);l.setDate(l.getDate()+4-(l.getDay()||7));var k=l.getTime();l.setMonth(0);l.setDate(1);return Math.floor(Math.round((k-l)/86400000)/7)+1}g.handleKeyDown=function(l,j){var k=g.activeDate.getDate();if(l==="left"){k=k-1}else{if(l==="up"){k=k-7}else{if(l==="right"){k=k+1}else{if(l==="down"){k=k+7}else{if(l==="pageup"||l==="pagedown"){var m=g.activeDate.getMonth()+(l==="pageup"?-1:1);g.activeDate.setMonth(m,1);k=Math.min(d(g.activeDate.getFullYear(),g.activeDate.getMonth()),k)}else{if(l==="home"){k=1}else{if(l==="end"){k=d(g.activeDate.getFullYear(),g.activeDate.getMonth())}}}}}}}g.activeDate.setDate(k)};g.refreshView()}}}]).directive("monthpicker",["dateFilter",function(a){return{restrict:"EA",replace:true,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(d,c,b,e){e.step={years:1};e.element=c;e._refreshView=function(){var f=new Array(12),j=e.activeDate.getFullYear(),g;for(var h=0;h<12;h++){g=new Date(j,h,1);e.fixTimeZone(g);f[h]=angular.extend(e.createDateObject(g,e.formatMonth),{uid:d.uniqueId+"-"+h})}d.title=a(e.activeDate,e.formatMonthTitle);d.rows=e.split(f,3)};e.compare=function(g,f){return new Date(g.getFullYear(),g.getMonth())-new Date(f.getFullYear(),f.getMonth())};e.handleKeyDown=function(h,f){var g=e.activeDate.getMonth();if(h==="left"){g=g-1}else{if(h==="up"){g=g-3}else{if(h==="right"){g=g+1}else{if(h==="down"){g=g+3}else{if(h==="pageup"||h==="pagedown"){var i=e.activeDate.getFullYear()+(h==="pageup"?-1:1);e.activeDate.setFullYear(i)}else{if(h==="home"){g=0}else{if(h==="end"){g=11}}}}}}}e.activeDate.setMonth(g)};e.refreshView()}}}]).directive("yearpicker",["dateFilter",function(a){return{restrict:"EA",replace:true,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,d,c,f){var b=f.yearRange;f.step={years:b};f.element=d;function g(h){return parseInt((h-1)/b,10)*b+1}f._refreshView=function(){var k=new Array(b),h;for(var j=0,l=g(f.activeDate.getFullYear());j<b;j++){h=new Date(l+j,0,1);f.fixTimeZone(h);k[j]=angular.extend(f.createDateObject(h,f.formatYear),{uid:e.uniqueId+"-"+j})}e.title=[k[0].label,k[b-1].label].join(" - ");e.rows=f.split(k,5)};f.compare=function(i,h){return i.getFullYear()-h.getFullYear()};f.handleKeyDown=function(j,h){var i=f.activeDate.getFullYear();if(j==="left"){i=i-1}else{if(j==="up"){i=i-5}else{if(j==="right"){i=i+1}else{if(j==="down"){i=i+5}else{if(j==="pageup"||j==="pagedown"){i+=(j==="pageup"?-1:1)*f.step.years}else{if(j==="home"){i=g(f.activeDate.getFullYear())}else{if(j==="end"){i=g(f.activeDate.getFullYear())+b-1}}}}}}}f.activeDate.setFullYear(i)};f.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:true,appendToBody:false,showButtonBar:true}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(c,d,g,f,e,a,h,b){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(x,s,w,r){var o,t=angular.isDefined(w.closeOnDateSelection)?x.$parent.$eval(w.closeOnDateSelection):h.closeOnDateSelection,v=angular.isDefined(w.datepickerAppendToBody)?x.$parent.$eval(w.datepickerAppendToBody):h.appendToBody;x.showButtonBar=angular.isDefined(w.showButtonBar)?x.$parent.$eval(w.showButtonBar):h.showButtonBar;x.getText=function(z){return x[z+"Text"]||h[z+"Text"]};var n=false;if(h.html5Types[w.type]){o=h.html5Types[w.type];n=true}else{o=w.datepickerPopup||h.datepickerPopup;w.$observe("datepickerPopup",function(B,z){var A=B||h.datepickerPopup;if(A!==o){o=A;r.$modelValue=null;if(!o){throw new Error("datepickerPopup must have a date format specified.")}}})}if(!o){throw new Error("datepickerPopup must have a date format specified.")}if(n&&w.datepickerPopup){throw new Error("HTML5 date input types do not support custom formats.")}var p=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");p.attr({"ng-model":"date","ng-change":"dateSelection(date)"});function q(z){return z.replace(/([A-Z])/g,function(A){return"-"+A.toLowerCase()})}var j=angular.element(p.children()[0]);if(n){if(w.type=="month"){j.attr("datepicker-mode",'"month"');j.attr("min-mode","month")}}if(w.datepickerOptions){var y=x.$parent.$eval(w.datepickerOptions);if(y.initDate){x.initDate=y.initDate;j.attr("init-date","initDate");delete y.initDate}angular.forEach(y,function(A,z){j.attr(q(z),A)})}x.watchData={};angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(A){if(w[A]){var z=d(w[A]);x.$parent.$watch(z,function(C){x.watchData[A]=C});j.attr(q(A),"watchData."+A);if(A==="datepickerMode"){var B=z.assign;x.$watch("watchData."+A,function(C,D){if(angular.isFunction(B)&&C!==D){B(x.$parent,C)}})}}});if(w.dateDisabled){j.attr("date-disabled","dateDisabled({ date: date, mode: mode })")}if(w.showWeeks){j.attr("show-weeks",w.showWeeks)}if(w.customClass){j.attr("custom-class","customClass({ date: date, mode: mode })")}function m(A){if(angular.isNumber(A)){A=new Date(A)}if(!A){return null}else{if(angular.isDate(A)&&!isNaN(A)){return A}else{if(angular.isString(A)){var z=a.parse(A,o,x.date)||new Date(A);if(isNaN(z)){return undefined}else{return z}}else{return undefined}}}}function l(z,C){var B=z||C;if(angular.isNumber(B)){B=new Date(B)}if(!B){return true}else{if(angular.isDate(B)&&!isNaN(B)){return true}else{if(angular.isString(B)){var A=a.parse(B,o)||new Date(B);return !isNaN(A)}else{return false}}}}if(!n){r.$$parserName="date";r.$validators.date=l;r.$parsers.unshift(m);r.$formatters.push(function(z){x.date=z;return r.$isEmpty(z)?z:e(z,o)})}else{r.$formatters.push(function(z){x.date=z;return z})}x.dateSelection=function(A){if(angular.isDefined(A)){x.date=A}var z=x.date?e(x.date,o):"";s.val(z);r.$setViewValue(z);if(t){x.isOpen=false;s[0].focus()}};r.$viewChangeListeners.push(function(){x.date=a.parse(r.$viewValue,o,x.date)||new Date(r.$viewValue)});var u=function(z){if(x.isOpen&&z.target!==s[0]){x.$apply(function(){x.isOpen=false})}};var k=function(z){if(z.which===27&&x.isOpen){z.preventDefault();z.stopPropagation();x.$apply(function(){x.isOpen=false});s[0].focus()}else{if(z.which===40&&!x.isOpen){z.preventDefault();z.stopPropagation();x.$apply(function(){x.isOpen=true})}}};s.bind("keydown",k);x.keydown=function(z){if(z.which===27){x.isOpen=false;s[0].focus()}};x.$watch("isOpen",function(z){if(z){x.position=v?f.offset(s):f.position(s);x.position.top=x.position.top+s.prop("offsetHeight");g.bind("click",u);b(function(){x.$broadcast("datepicker.focus")},0,false)}else{g.unbind("click",u)}});x.select=function(A){if(A==="today"){var z=new Date();if(angular.isDate(x.date)){A=new Date(x.date);A.setFullYear(z.getFullYear(),z.getMonth(),z.getDate())}else{A=new Date(z.setHours(0,0,0,0))}}x.dateSelection(A)};x.close=function(){x.isOpen=false;s[0].focus()};var i=c(p)(x);p.remove();if(v){g.find("body").append(i)}else{s.after(i)}x.$on("$destroy",function(){if(x.isOpen===true){x.$apply(function(){x.isOpen=false})}i.remove();s.unbind("keydown",k);g.unbind("click",u)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:true,transclude:true,templateUrl:"template/datepicker/popup.html"}});angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(d,a){var b=null;this.open=function(f){if(!b){d.bind("click",e);d.bind("keydown",c)}if(b&&b!==f){b.isOpen=false}b=f};this.close=function(f){if(b===f){b=null;d.unbind("click",e);d.unbind("keydown",c)}};var e=function(f){if(!b){return}if(f&&b.getAutoClose()==="disabled"){return}var g=b.getToggleElement();if(f&&g&&g[0].contains(f.target)){return}var h=b.getDropdownElement();if(f&&b.getAutoClose()==="outsideClick"&&h&&h[0].contains(f.target)){return}b.isOpen=false;if(!a.$$phase){b.$apply()}};var c=function(f){if(f.which===27){b.focusToggleElement();e()}else{if(b.isKeynavEnabled()&&/(38|40)/.test(f.which)&&b.isOpen){f.preventDefault();f.stopPropagation();b.focusDropdownEntry(f.which)}}}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(n,d,c,i,g,o,f,t,r,m){var l=this,a=n.$new(),q,b=i.openClass,j,e=angular.noop,p=d.onToggle?c(d.onToggle):angular.noop,s=false,k=false,h=null;this.init=function(u){l.$element=u;if(d.isOpen){j=c(d.isOpen);e=j.assign;n.$watch(j,function(w){a.isOpen=!!w})}s=angular.isDefined(d.dropdownAppendToBody);k=angular.isDefined(d.keyboardNav);if(s&&l.dropdownMenu){t.find("body").append(l.dropdownMenu);u.on("$destroy",function v(){l.dropdownMenu.remove()})}};this.toggle=function(u){return a.isOpen=arguments.length?!!u:!a.isOpen};this.isOpen=function(){return a.isOpen};a.getToggleElement=function(){return l.toggleElement};a.getAutoClose=function(){return d.autoClose||"always"};a.getElement=function(){return l.$element};a.isKeynavEnabled=function(){return k};a.focusDropdownEntry=function(v){var u=l.dropdownMenu?(angular.element(l.dropdownMenu).find("a")):(angular.element(l.$element).find("ul").eq(0).find("a"));switch(v){case (40):if(!angular.isNumber(l.selectedOption)){l.selectedOption=0}else{l.selectedOption=(l.selectedOption===u.length-1?l.selectedOption:l.selectedOption+1)}break;case (38):if(!angular.isNumber(l.selectedOption)){return}else{l.selectedOption=(l.selectedOption===0?0:l.selectedOption-1)}break}u[l.selectedOption].focus()};a.getDropdownElement=function(){return l.dropdownMenu};a.focusToggleElement=function(){if(l.toggleElement){l.toggleElement[0].focus()}};a.$watch("isOpen",function(v,w){if(s&&l.dropdownMenu){var z=f.positionElements(l.$element,l.dropdownMenu,"bottom-left",true);var u={top:z.top+"px",display:v?"block":"none"};var x=l.dropdownMenu.hasClass("dropdown-menu-right");if(!x){u.left=z.left+"px";u.right="auto"}else{u.left="auto";u.right=(window.innerWidth-(z.left+l.$element.prop("offsetWidth")))+"px"}l.dropdownMenu.css(u)}o[v?"addClass":"removeClass"](l.$element,b).then(function(){if(angular.isDefined(v)&&v!==w){p(n,{open:!!v})}});if(v){if(l.dropdownMenuTemplateUrl){m(l.dropdownMenuTemplateUrl).then(function(A){q=a.$new();r(A.trim())(q,function(B){var C=B;l.dropdownMenu.replaceWith(C);l.dropdownMenu=C})})}a.focusToggleElement();g.open(a)}else{if(l.dropdownMenuTemplateUrl){if(q){q.$destroy()}var y=angular.element('<ul class="dropdown-menu"></ul>');l.dropdownMenu.replaceWith(y);l.dropdownMenu=y}g.close(a);l.selectedOption=null}e(n,v)});n.$on("$locationChangeSuccess",function(){if(a.getAutoClose()!=="disabled"){a.isOpen=false}});n.$on("$destroy",function(){a.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(d,c,b,a){a.init(c);c.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(e,d,c,a){if(!a){return}var b=c.templateUrl;if(b){a.dropdownMenuTemplateUrl=b}if(!a.dropdownMenu){a.dropdownMenu=d}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(d,c,b,a){c.bind("keydown",function(g){if([38,40].indexOf(g.which)!==-1){g.preventDefault();g.stopPropagation();var f=angular.element(c).find("a");switch(g.keyCode){case (40):if(!angular.isNumber(a.selectedOption)){a.selectedOption=0}else{a.selectedOption=(a.selectedOption===f.length-1?a.selectedOption:a.selectedOption+1)}break;case (38):a.selectedOption=(a.selectedOption===0?0:a.selectedOption-1);break}f[a.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,c,b,a){if(!a){return}c.addClass("dropdown-toggle");a.toggleElement=c;var d=function(f){f.preventDefault();if(!c.hasClass("disabled")&&!b.disabled){e.$apply(function(){a.toggle()})}};c.bind("click",d);c.attr({"aria-haspopup":true,"aria-expanded":false});e.$watch(a.isOpen,function(f){c.attr("aria-expanded",!!f)});e.$on("$destroy",function(){c.unbind("click",d)})}}});angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(c){for(var b=0;b<a.length;b++){if(c==a[b].key){return a[b]}}},keys:function(){var c=[];for(var b=0;b<a.length;b++){c.push(a[b].key)}return c},top:function(){return a[a.length-1]},remove:function(d){var b=-1;for(var c=0;c<a.length;c++){if(d==a[c].key){b=c;break}}return a.splice(b,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$animate","$modalStack",function(c,b){return{restrict:"EA",replace:true,templateUrl:"template/modal/backdrop.html",compile:function(d,e){d.addClass(e.backdropClass);return a}};function a(f,e,d){if(d.modalInClass){c.addClass(e,d.modalInClass);f.$on(b.NOW_CLOSING_EVENT,function(h,i){var g=i();c.removeClass(e,d.modalInClass).then(g)})}}}]).directive("modalWindow",["$modalStack","$q","$animate",function(b,a,c){return{restrict:"EA",scope:{index:"@"},replace:true,transclude:true,templateUrl:function(d,e){return e.templateUrl||"template/modal/window.html"},link:function(f,e,d){e.addClass(d.windowClass||"");f.size=d.size;f.close=function(h){var i=b.getTop();if(i&&i.value.backdrop&&i.value.backdrop!="static"&&(h.target===h.currentTarget)){h.preventDefault();h.stopPropagation();b.dismiss(i.key,"backdrop click")}};f.$isRendered=true;var g=a.defer();d.$observe("modalRender",function(h){if(h=="true"){g.resolve()}});g.promise.then(function(){if(d.modalInClass){c.addClass(e,d.modalInClass);f.$on(b.NOW_CLOSING_EVENT,function(k,l){var j=l();c.removeClass(e,d.modalInClass).then(j)})}var i=e[0].querySelectorAll("[autofocus]");if(i.length){i[0].focus()}else{e[0].focus()}var h=b.getTop();if(h){b.modalRendered(h.key)}})}}}]).directive("modalAnimationClass",[function(){return{compile:function(a,b){if(b.modalAnimation){a.addClass(b.modalAnimationClass)}}}}]).directive("modalTransclude",function(){return{link:function(e,d,a,c,b){b(e.$parent,function(f){d.empty();d.append(f)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$$stackedMap",function(i,b,d,g,n,h,a){var j="modal-open";var m,e;var c=a.createNew();var l={NOW_CLOSING_EVENT:"modal.stack.now-closing"};function q(){var r=-1;var t=c.keys();for(var s=0;s<t.length;s++){if(c.get(t[s]).value.backdrop){r=s}}return r}n.$watch(q,function(r){if(e){e.index=r}});function p(s,u){var r=d.find("body").eq(0);var t=c.get(s).value;c.remove(s);o(t.modalDomEl,t.modalScope,function(){r.toggleClass(j,c.length()>0);f()});if(u&&u.focus){u.focus()}else{r.focus()}}function f(){if(m&&q()==-1){var r=e;o(m,e,function(){r=null});m=undefined;e=undefined}}function o(t,v,r){var s;var u=null;var x=function(){if(!s){s=h.defer();u=s.promise}return function y(){s.resolve()}};v.$broadcast(l.NOW_CLOSING_EVENT,x);return h.when(u).then(w);function w(){if(w.done){return}w.done=true;t.remove();v.$destroy();if(r){r()}}}d.bind("keydown",function(r){var s;if(r.which===27){s=c.top();if(s&&s.value.keyboard){r.preventDefault();n.$apply(function(){l.dismiss(s.key,"escape key press")})}}});l.open=function(s,v){var w=d[0].activeElement;c.add(s,{deferred:v.deferred,renderDeferred:v.renderDeferred,modalScope:v.scope,backdrop:v.backdrop,keyboard:v.keyboard});var r=d.find("body").eq(0),u=q();if(u>=0&&!m){e=n.$new(true);e.index=u;var t=angular.element('<div modal-backdrop="modal-backdrop"></div>');t.attr("backdrop-class",v.backdropClass);if(v.animation){t.attr("modal-animation","true")}m=g(t)(e);r.append(m)}var y=angular.element('<div modal-window="modal-window"></div>');y.attr({"template-url":v.windowTemplateUrl,"window-class":v.windowClass,size:v.size,index:c.length()-1,animate:"animate"}).html(v.content);if(v.animation){y.attr("modal-animation","true")}var x=g(y)(v.scope);c.top().value.modalDomEl=x;c.top().value.modalOpener=w;r.append(x);r.addClass(j)};function k(t,s,r){return !t.value.modalScope.$broadcast("modal.closing",s,r).defaultPrevented}l.close=function(s,r){var t=c.get(s);if(t&&k(t,r,true)){t.value.deferred.resolve(r);p(s,t.value.modalOpener);return true}return !t};l.dismiss=function(r,s){var t=c.get(r);if(t&&k(t,s,false)){t.value.deferred.reject(s);p(r,t.value.modalOpener);return true}return !t};l.dismissAll=function(s){var r=this.getTop();while(r&&this.dismiss(r.key,s)){r=this.getTop()}};l.getTop=function(){return c.top()};l.modalRendered=function(r){var s=c.get(r);if(s){s.value.renderDeferred.resolve()}};return l}]).provider("$modal",function(){var a={options:{animation:true,backdrop:true,keyboard:true},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(i,f,c,h,b,e){var g={};function d(k){return k.template?c.when(k.template):h(angular.isFunction(k.templateUrl)?(k.templateUrl)():k.templateUrl)}function j(l){var k=[];angular.forEach(l,function(m){if(angular.isFunction(m)||angular.isArray(m)){k.push(c.when(i.invoke(m)))}});return k}g.open=function(l){var r=c.defer();var p=c.defer();var m=c.defer();var k={result:r.promise,opened:p.promise,rendered:m.promise,close:function(s){return e.close(k,s)},dismiss:function(s){return e.dismiss(k,s)}};l=angular.extend({},a.options,l);l.resolve=l.resolve||{};if(!l.template&&!l.templateUrl){throw new Error("One of template or templateUrl options is required.")}var q=c.all([d(l)].concat(j(l.resolve)));q.then(function o(w){var t=(l.scope||f).$new();t.$close=k.close;t.$dismiss=k.dismiss;var v,u={};var s=1;if(l.controller){u.$scope=t;u.$modalInstance=k;angular.forEach(l.resolve,function(y,x){u[x]=w[s++]});v=b(l.controller,u);if(l.controllerAs){if(l.bindToController){angular.extend(t,v)}else{t[l.controllerAs]=v}}}e.open(k,{scope:t,deferred:r,renderDeferred:m,content:w[0],animation:l.animation,backdrop:l.backdrop,keyboard:l.keyboard,backdropClass:l.backdropClass,windowClass:l.windowClass,windowTemplateUrl:l.windowTemplateUrl,size:l.size})},function n(s){r.reject(s)});q.then(function(){p.resolve(true)},function(s){p.reject(s)});return k};return g}]};return a});angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(c,a,f){var b=this,d={$setViewValue:angular.noop},e=a.numPages?f(a.numPages).assign:angular.noop;this.init=function(h,g){d=h;this.config=g;d.$render=function(){b.render()};if(a.itemsPerPage){c.$parent.$watch(f(a.itemsPerPage),function(i){b.itemsPerPage=parseInt(i,10);c.totalPages=b.calculateTotalPages()})}else{this.itemsPerPage=g.itemsPerPage}c.$watch("totalItems",function(){c.totalPages=b.calculateTotalPages()});c.$watch("totalPages",function(i){e(c.$parent,i);if(c.page>i){c.selectPage(i)}else{d.$render()}})};this.calculateTotalPages=function(){var g=this.itemsPerPage<1?1:Math.ceil(c.totalItems/this.itemsPerPage);return Math.max(g||0,1)};this.render=function(){c.page=parseInt(d.$viewValue,10)||1};c.selectPage=function(i,g){var h=!c.ngDisabled||!g;if(h&&c.page!==i&&i>0&&i<=c.totalPages){if(g&&g.target){g.target.blur()}d.$setViewValue(i);d.$render()}};c.getText=function(g){return c[g+"Text"]||b.config[g+"Text"]};c.noPrevious=function(){return c.page===1};c.noNext=function(){return c.page===c.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:false,directionLinks:true,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:true}).directive("pagination",["$parse","paginationConfig",function(b,a){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:true,link:function(m,g,l,e){var i=e[0],c=e[1];if(!c){return}var k=angular.isDefined(l.maxSize)?m.$parent.$eval(l.maxSize):a.maxSize,f=angular.isDefined(l.rotate)?m.$parent.$eval(l.rotate):a.rotate;m.boundaryLinks=angular.isDefined(l.boundaryLinks)?m.$parent.$eval(l.boundaryLinks):a.boundaryLinks;m.directionLinks=angular.isDefined(l.directionLinks)?m.$parent.$eval(l.directionLinks):a.directionLinks;i.init(c,a);if(l.maxSize){m.$parent.$watch(b(l.maxSize),function(n){k=parseInt(n,10);i.render()})}function d(o,p,n){return{number:o,text:p,active:n}}function j(q,s){var o=[];var t=1,w=s;var v=(angular.isDefined(k)&&k<s);if(v){if(f){t=Math.max(q-Math.floor(k/2),1);w=t+k-1;if(w>s){w=s;t=w-k+1}}else{t=((Math.ceil(q/k)-1)*k)+1;w=Math.min(t+k-1,s)}}for(var p=t;p<=w;p++){var u=d(p,p,p===q);o.push(u)}if(v&&!f){if(t>1){var n=d(t-1,"...",false);o.unshift(n)}if(w<s){var r=d(w+1,"...",false);o.push(r)}}return o}var h=i.render;i.render=function(){h();if(m.page>0&&m.page<=m.totalPages){m.pages=j(m.page,m.totalPages)}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:true}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:true,link:function(f,e,d,b){var g=b[0],c=b[1];if(!c){return}f.align=angular.isDefined(d.align)?f.$parent.$eval(d.align):a.align;g.init(c,a)}}}]);angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){var b={placement:"top",animation:true,popupDelay:0,useContentExp:false};var d={mouseenter:"mouseleave",click:"click",focus:"blur"};var c={};this.options=function(f){angular.extend(c,f)};this.setTriggers=function e(f){angular.extend(d,f)};function a(f){var g=/[A-Z]/g;var h="-";return f.replace(g,function(i,j){return(j?h:"")+i.toLowerCase()})}this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(l,h,g,k,j,i){return function f(s,o,p,u){u=angular.extend({},b,c,u);function n(w){var v=w||u.trigger||p;var x=d[v]||v;return{show:v,hide:x}}var r=a(s);var m=i.startSymbol();var q=i.endSymbol();var t="<div "+r+'-popup title="'+m+"title"+q+'" '+(u.useContentExp?'content-exp="contentExp()" ':'content="'+m+"content"+q+'" ')+'placement="'+m+"placement"+q+'" popup-class="'+m+"popupClass"+q+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(y,w){var v=h(t);return function x(B,D,Q,z){var G;var L;var K;var ac;var aa=angular.isDefined(u.appendToBody)?u.appendToBody:false;var A=n(undefined);var I=angular.isDefined(Q[o+"Enable"]);var E=B.$new(true);var ab=function(){if(!G){return}var ad=j.positionElements(D,G,E.placement,aa);ad.top+="px";ad.left+="px";G.css(ad)};E.origScope=B;E.isOpen=false;function P(){if(!E.isOpen){J()}else{R()}}function J(){if(I&&!B.$eval(Q[o+"Enable"])){return}O();if(E.popupDelay){if(!ac){ac=g(Z,E.popupDelay,false);ac.then(function(ad){ad()})}}else{Z()()}}function R(){B.$apply(function(){N()})}function Z(){ac=null;if(K){g.cancel(K);K=null}if(!(u.useContentExp?E.contentExp():E.content)){return angular.noop}S();G.css({top:0,left:0,display:"block"});E.$digest();ab();E.isOpen=true;E.$apply();return ab}function N(){E.isOpen=false;g.cancel(ac);ac=null;if(E.animation){if(!K){K=g(M,500)}}else{M()}}function S(){if(G){M()}L=E.$new();G=v(L,function(ad){if(aa){k.find("body").append(ad)}else{D.after(ad)}});L.$watch(function(){g(ab,0,false)});if(u.useContentExp){L.$watch("contentExp()",function(ad){if(!ad&&E.isOpen){N()}})}}function M(){K=null;if(G){G.remove();G=null}if(L){L.$destroy();L=null}}function O(){U();Y();F()}E.contentExp=function(){return B.$eval(Q[s])};if(!u.useContentExp){Q.$observe(s,function(ad){E.content=ad;if(!ad&&E.isOpen){N()}})}Q.$observe("disabled",function(ad){if(ad&&E.isOpen){N()}});Q.$observe(o+"Title",function(ad){E.title=ad});function U(){E.popupClass=Q[o+"Class"]}function Y(){var ad=Q[o+"Placement"];E.placement=angular.isDefined(ad)?ad:u.placement}function F(){var ae=Q[o+"PopupDelay"];var ad=parseInt(ae,10);E.popupDelay=!isNaN(ad)?ad:u.popupDelay}var W=function(){D.unbind(A.show,J);D.unbind(A.hide,R)};function T(){var ad=Q[o+"Trigger"];W();A=n(ad);if(A.show===A.hide){D.bind(A.show,P)}else{D.bind(A.show,J);D.bind(A.hide,R)}}T();var V=B.$eval(Q[o+"Animation"]);E.animation=angular.isDefined(V)?!!V:u.animation;var X=B.$eval(Q[o+"AppendToBody"]);aa=angular.isDefined(X)?X:aa;if(aa){B.$on("$locationChangeSuccess",function H(){if(E.isOpen){N()}})}B.$on("$destroy",function C(){g.cancel(K);g.cancel(ac);W();M();E=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(d,b,c,a){return{link:function(l,f,k){var j=l.$eval(k.tooltipTemplateTranscludeScope);var i=0,m,g,h;var e=function(){if(g){g.remove();g=null}if(m){m.$destroy();m=null}if(h){d.leave(h).then(function(){g=null});g=h;h=null}};l.$watch(b.parseAsResourceUrl(k.tooltipTemplateTransclude),function(o){var n=++i;if(o){a(o,true).then(function(p){if(n!==i){return}var r=j.$new();var q=p;var s=c(q)(r,function(t){e();d.enter(t,f)});m=r;h=s;m.$emit("$includeContentLoaded",o)},function(){if(n===i){e();l.$emit("$includeContentError",o)}});l.$emit("$includeContentRequested",o)}else{e()}});l.$on("$destroy",e)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(c,b,a){if(c.placement){b.addClass(c.placement)}if(c.popupClass){b.addClass(c.popupClass)}if(c.animation()){b.addClass(a.tooltipAnimationClass)}}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:true,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:true,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(a){return a("tooltipTemplate","tooltip","mouseenter",{useContentExp:true})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:true,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(a){return a("tooltipHtml","tooltip","mouseenter",{useContentExp:true})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:true,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",false).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(a,b,c){if(!b){c.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead.")}return a("tooltipHtmlUnsafe","tooltip","mouseenter")}]);angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:true,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(a){return a("popoverTemplate","popover","click",{useContentExp:true})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:true,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]);angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:true,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(d,a,e){var c=this,b=angular.isDefined(a.animate)?d.$parent.$eval(a.animate):e.animate;this.bars=[];d.max=angular.isDefined(d.max)?d.max:e.max;this.addBar=function(g,f){if(!b){f.css({transition:"none"})}this.bars.push(g);g.max=d.max;g.$watch("value",function(h){g.recalculatePercentage()});g.recalculatePercentage=function(){g.percent=+(100*g.value/g.max).toFixed(2)};g.$on("$destroy",function(){f=null;c.removeBar(g)})};this.removeBar=function(f){this.bars.splice(this.bars.indexOf(f),1)};d.$watch("max",function(f){c.bars.forEach(function(g){g.max=d.max;g.recalculatePercentage()})})}]).directive("progress",function(){return{restrict:"EA",replace:true,transclude:true,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:true,transclude:true,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(d,c,b,a){a.addBar(d,c)}}}).directive("progressbar",function(){return{restrict:"EA",replace:true,transclude:true,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(d,c,b,a){a.addBar(d,angular.element(c.children()[0]))}}});angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(b,a,d){var c={$setViewValue:angular.noop};this.init=function(e){c=e;c.$render=this.render;c.$formatters.push(function(g){if(angular.isNumber(g)&&g<<0!==g){g=Math.round(g)}return g});this.stateOn=angular.isDefined(a.stateOn)?b.$parent.$eval(a.stateOn):d.stateOn;this.stateOff=angular.isDefined(a.stateOff)?b.$parent.$eval(a.stateOff):d.stateOff;var f=angular.isDefined(a.ratingStates)?b.$parent.$eval(a.ratingStates):new Array(angular.isDefined(a.max)?b.$parent.$eval(a.max):d.max);b.range=this.buildTemplateObjects(f)};this.buildTemplateObjects=function(e){for(var f=0,g=e.length;f<g;f++){e[f]=angular.extend({index:f},{stateOn:this.stateOn,stateOff:this.stateOff},e[f])}return e};b.rate=function(e){if(!b.readonly&&e>=0&&e<=b.range.length){c.$setViewValue(c.$viewValue===e?0:e);c.$render()}};b.enter=function(e){if(!b.readonly){b.value=e}b.onHover({value:e})};b.reset=function(){b.value=c.$viewValue;b.onLeave()};b.onKeydown=function(e){if(/(37|38|39|40)/.test(e.which)){e.preventDefault();e.stopPropagation();b.rate(b.value+(e.which===38||e.which===39?1:-1))}};this.render=function(){b.value=c.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:true,link:function(f,e,d,a){var b=a[0],c=a[1];b.init(c)}}});angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function TabsetCtrl(a){var e=this,b=e.tabs=a.tabs=[];e.select=function(g){angular.forEach(b,function(h){if(h.active&&h!==g){h.active=false;h.onDeselect()}});g.active=true;g.onSelect()};e.addTab=function f(g){b.push(g);if(b.length===1&&g.active!==false){g.active=true}else{if(g.active){e.select(g)}else{g.active=false}}};e.removeTab=function c(h){var g=b.indexOf(h);if(h.active&&b.length>1&&!d){var i=g==b.length-1?g-1:g+1;e.select(b[i])}b.splice(g,1)};var d;a.$on("$destroy",function(){d=true})}]).directive("tabset",function(){return{restrict:"EA",transclude:true,replace:true,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(c,b,a){c.vertical=angular.isDefined(a.vertical)?c.$parent.$eval(a.vertical):false;c.justified=angular.isDefined(a.justified)?c.$parent.$eval(a.justified):false}}}).directive("tab",["$parse","$log",function(a,b){return{require:"^tabset",restrict:"EA",replace:true,templateUrl:"template/tabs/tab.html",transclude:true,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(f,e,d){return function c(i,j,g,h){i.$watch("active",function(k){if(k){h.select(i)}});i.disabled=false;if(g.disable){i.$parent.$watch(a(g.disable),function(k){i.disabled=!!k})}if(g.disabled){b.warn('Use of "disabled" attribute has been deprecated, please use "disable"');i.$parent.$watch(a(g.disabled),function(k){i.disabled=!!k})}i.select=function(){if(!i.disabled){i.active=true}};h.addTab(i);i.$on("$destroy",function(){h.removeTab(i)});i.$transcludeFn=d}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(d,e,c,a){d.$watch("headingElement",function b(f){if(f){e.html("");e.append(f)}})}}}]).directive("tabContentTransclude",function(){return{restrict:"A",require:"^tabset",link:function(d,e,b){var c=d.$eval(b.tabContentTransclude);c.$transcludeFn(c.$parent,function(f){angular.forEach(f,function(g){if(a(g)){c.headingElement=g}else{e.append(g)}})})}};function a(b){return b.tagName&&(b.hasAttribute("tab-heading")||b.hasAttribute("data-tab-heading")||b.tagName.toLowerCase()==="tab-heading"||b.tagName.toLowerCase()==="data-tab-heading")}});angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:true,meridians:null,readonlyInput:false,mousewheel:true,arrowkeys:true,showSpinners:true}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(l,g,f,n,q,d){var k=new Date(),i={$setViewValue:angular.noop},p=angular.isDefined(g.meridians)?l.$parent.$eval(g.meridians):d.meridians||q.DATETIME_FORMATS.AMPMS;this.init=function(v,t){i=v;i.$render=this.render;i.$formatters.unshift(function(y){return y?new Date(y):null});var w=t.eq(0),u=t.eq(1);var s=angular.isDefined(g.mousewheel)?l.$parent.$eval(g.mousewheel):d.mousewheel;if(s){this.setupMousewheelEvents(w,u)}var x=angular.isDefined(g.arrowkeys)?l.$parent.$eval(g.arrowkeys):d.arrowkeys;if(x){this.setupArrowkeyEvents(w,u)}l.readonlyInput=angular.isDefined(g.readonlyInput)?l.$parent.$eval(g.readonlyInput):d.readonlyInput;this.setupInputEvents(w,u)};var b=d.hourStep;if(g.hourStep){l.$parent.$watch(f(g.hourStep),function(s){b=parseInt(s,10)})}var j=d.minuteStep;if(g.minuteStep){l.$parent.$watch(f(g.minuteStep),function(s){j=parseInt(s,10)})}l.showMeridian=d.showMeridian;if(g.showMeridian){l.$parent.$watch(f(g.showMeridian),function(u){l.showMeridian=!!u;if(i.$error.time){var s=a(),t=h();if(angular.isDefined(s)&&angular.isDefined(t)){k.setHours(s);e()}}else{c()}})}function a(){var s=parseInt(l.hours,10);var t=(l.showMeridian)?(s>0&&s<13):(s>=0&&s<24);if(!t){return undefined}if(l.showMeridian){if(s===12){s=0}if(l.meridian===p[1]){s=s+12}}return s}function h(){var s=parseInt(l.minutes,10);return(s>=0&&s<60)?s:undefined}function o(s){return(angular.isDefined(s)&&s.toString().length<2)?"0"+s:s.toString()}this.setupMousewheelEvents=function(u,t){var s=function(v){if(v.originalEvent){v=v.originalEvent}var w=(v.wheelDelta)?v.wheelDelta:-v.deltaY;return(v.detail||w>0)};u.bind("mousewheel wheel",function(v){l.$apply((s(v))?l.incrementHours():l.decrementHours());v.preventDefault()});t.bind("mousewheel wheel",function(v){l.$apply((s(v))?l.incrementMinutes():l.decrementMinutes());v.preventDefault()})};this.setupArrowkeyEvents=function(t,s){t.bind("keydown",function(u){if(u.which===38){u.preventDefault();l.incrementHours();l.$apply()}else{if(u.which===40){u.preventDefault();l.decrementHours();l.$apply()}}});s.bind("keydown",function(u){if(u.which===38){u.preventDefault();l.incrementMinutes();l.$apply()}else{if(u.which===40){u.preventDefault();l.decrementMinutes();l.$apply()}}})};this.setupInputEvents=function(t,s){if(l.readonlyInput){l.updateHours=angular.noop;l.updateMinutes=angular.noop;return}var u=function(v,w){i.$setViewValue(null);i.$setValidity("time",false);if(angular.isDefined(v)){l.invalidHours=v}if(angular.isDefined(w)){l.invalidMinutes=w}};l.updateHours=function(){var v=a();if(angular.isDefined(v)){k.setHours(v);e("h")}else{u(true)}};t.bind("blur",function(v){if(!l.invalidHours&&l.hours<10){l.$apply(function(){l.hours=o(l.hours)})}});l.updateMinutes=function(){var v=h();if(angular.isDefined(v)){k.setMinutes(v);e("m")}else{u(undefined,true)}};s.bind("blur",function(v){if(!l.invalidMinutes&&l.minutes<10){l.$apply(function(){l.minutes=o(l.minutes)})}})};this.render=function(){var s=i.$viewValue;if(isNaN(s)){i.$setValidity("time",false);n.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}else{if(s){k=s}m();c()}};function e(s){m();i.$setViewValue(new Date(k));c(s)}function m(){i.$setValidity("time",true);l.invalidHours=false;l.invalidMinutes=false}function c(u){var s=k.getHours(),t=k.getMinutes();if(l.showMeridian){s=(s===0||s===12)?12:s%12}l.hours=u==="h"?s:o(s);if(u!=="m"){l.minutes=o(t)}l.meridian=k.getHours()<12?p[0]:p[1]}function r(s){var t=new Date(k.getTime()+s*60000);k.setHours(t.getHours(),t.getMinutes());e()}l.showSpinners=angular.isDefined(g.showSpinners)?l.$parent.$eval(g.showSpinners):d.showSpinners;l.incrementHours=function(){r(b*60)};l.decrementHours=function(){r(-b*60)};l.incrementMinutes=function(){r(j)};l.decrementMinutes=function(){r(-j)};l.toggleMeridian=function(){r(12*60*((k.getHours()<12)?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:true,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(f,e,d,b){var a=b[0],c=b[1];if(c){a.init(c,e.find("input"))}}}});angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",false).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(d,a,g,i,b){if(!b){i.warn("$transition is now deprecated. Use $animate from ngAnimate instead.")}var c=function(n,m,l){l=l||{};var k=d.defer();var p=c[l.animation?"animationEndEventName":"transitionEndEventName"];var o=function(q){g.$apply(function(){n.unbind(p,o);k.resolve(n)})};if(p){n.bind(p,o)}a(function(){if(angular.isString(m)){n.addClass(m)}else{if(angular.isFunction(m)){m(n)}else{if(angular.isObject(m)){n.css(m)}}}if(!p){k.resolve(n)}});k.promise.cancel=function(){if(p){n.unbind(p,o)}k.reject("Transition cancelled")};return k.promise};var f=document.createElement("trans");var j={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"};var e={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};function h(l){for(var k in l){if(f.style[k]!==undefined){return l[k]}}}c.transitionEndEventName=h(j);c.animationEndEventName=h(e);return c}]);angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(b){var a=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(a);if(!d){throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".')}return{itemName:d[3],source:b(d[4]),viewMapper:b(d[2]||d[1]),modelMapper:b(d[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(g,d,h,c,f,b,i,a,k){var e=[9,13,27,38,40];var j=200;return{require:"ngModel",link:function(y,q,L,m){var O=y.$eval(L.typeaheadMinLength);if(!O&&O!==0){O=1}var r=y.$eval(L.typeaheadWaitMs)||0;var z=y.$eval(L.typeaheadEditable)!==false;var G=d(L.typeaheadLoading).assign||angular.noop;var C=d(L.typeaheadOnSelect);var E=angular.isDefined(L.typeaheadSelectOnBlur)?y.$eval(L.typeaheadSelectOnBlur):false;var I=L.typeaheadInputFormatter?d(L.typeaheadInputFormatter):undefined;var P=L.typeaheadAppendToBody?y.$eval(L.typeaheadAppendToBody):false;var M=y.$eval(L.typeaheadFocusFirst)!==false;var n=d(L.ngModel).assign;var N=k.parse(L.typeahead);var s;var K;var o=y.$new();y.$on("$destroy",function(){o.$destroy()});var H="typeahead-"+o.$id+"-"+Math.floor(Math.random()*10000);q.attr({"aria-autocomplete":"list","aria-expanded":false,"aria-owns":H});var x=angular.element("<div typeahead-popup></div>");x.attr({id:H,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"});if(angular.isDefined(L.typeaheadTemplateUrl)){x.attr("template-url",L.typeaheadTemplateUrl)}var t=function(){o.matches=[];o.activeIdx=-1;q.attr("aria-expanded",false)};var p=function(Q){return H+"-option-"+Q};o.$watch("activeIdx",function(Q){if(Q<0){q.removeAttr("aria-activedescendant")}else{q.attr("aria-activedescendant",p(Q))}});var B=function(Q){var R={$viewValue:Q};G(y,true);h.when(N.source(y,R)).then(function(U){var S=(Q===m.$viewValue);if(S&&s){if(U&&U.length>0){o.activeIdx=M?0:-1;o.matches.length=0;for(var T=0;T<U.length;T++){R[N.itemName]=U[T];o.matches.push({id:p(T),label:N.viewMapper(o,R),model:U[T]})}o.query=Q;D();q.attr("aria-expanded",true)}else{t()}}if(S){G(y,false)}},function(){t();G(y,false)})};if(P){angular.element(b).bind("resize",l);f.find("body").bind("scroll",l)}var F;o.moveInProgress=false;function l(){if(!o.moveInProgress){o.moveInProgress=true;o.$digest()}if(F){c.cancel(F)}F=c(function(){if(o.matches.length){D()}o.moveInProgress=false;o.$digest()},j)}function D(){o.position=P?a.offset(q):a.position(q);o.position.top+=q.prop("offsetHeight")}t();o.query=undefined;var w;var A=function(Q){w=c(function(){B(Q)},r)};var u=function(){if(w){c.cancel(w)}};m.$parsers.unshift(function(Q){s=true;if(O===0||Q&&Q.length>=O){if(r>0){u();A(Q)}else{B(Q)}}else{G(y,false);u();t()}if(z){return Q}else{if(!Q){m.$setValidity("editable",true);return Q}else{m.$setValidity("editable",false);return undefined}}});m.$formatters.push(function(S){var R,Q;var T={};if(!z){m.$setValidity("editable",true)}if(I){T.$model=S;return I(y,T)}else{T[N.itemName]=S;R=N.viewMapper(y,T);T[N.itemName]=undefined;Q=N.viewMapper(y,T);return R!==Q?R:S}});o.select=function(S){var T={};var Q,R;K=true;T[N.itemName]=R=o.matches[S].model;Q=N.modelMapper(y,T);n(y,Q);m.$setValidity("editable",true);m.$setValidity("parse",true);C(y,{$item:R,$model:Q,$label:N.viewMapper(y,T)});t();c(function(){q[0].focus()},0,false)};q.bind("keydown",function(Q){if(o.matches.length===0||e.indexOf(Q.which)===-1){return}if(o.activeIdx===-1&&Q.which===13){return}if(o.activeIdx===-1&&Q.which===9){t();o.$digest();return}Q.preventDefault();if(Q.which===40){o.activeIdx=(o.activeIdx+1)%o.matches.length;o.$digest()}else{if(Q.which===38){o.activeIdx=(o.activeIdx>0?o.activeIdx:o.matches.length)-1;o.$digest()}else{if(Q.which===13||Q.which===9){o.$apply(function(){o.select(o.activeIdx)})}else{if(Q.which===27){Q.stopPropagation();t();o.$digest()}}}}});q.bind("blur",function(){if(E&&o.matches.length&&o.activeIdx!==-1&&!K){K=true;o.$apply(function(){o.select(o.activeIdx)})}s=false;K=false});var v=function(Q){if(q[0]!==Q.target&&Q.which!==3){t();if(!i.$$phase){o.$digest()}}};f.bind("click",v);y.$on("$destroy",function(){f.unbind("click",v);if(P){J.remove()}x.remove()});var J=g(x)(o);if(P){f.find("body").append(J)}else{q.after(J)}}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:true,templateUrl:"template/typeahead/typeahead-popup.html",link:function(c,b,a){c.templateUrl=a.templateUrl;c.isOpen=function(){return c.matches.length>0};c.isActive=function(d){return c.active==d};c.selectActive=function(d){c.active=d};c.selectMatch=function(d){c.select({activeIdx:d})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(a,b,c){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(g,f,e){var d=c(e.templateUrl)(g.$parent)||"template/typeahead/typeahead-match.html";a(d).then(function(h){b(h.trim())(g,function(i){f.replaceWith(i)})})}}}]).filter("typeaheadHighlight",function(){function a(b){return b.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(c,b){return b?(""+c).replace(new RegExp(a(b),"gi"),"<strong>$&</strong>"):c}});!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>');