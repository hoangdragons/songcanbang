(function(){var c=["ng"],u={},m=[],o=[],i={},k=angular.module("oc.lazyLoad",["ng"]),j=angular.noop,r=[],d=[true];k.provider("$ocLazyLoad",["$controllerProvider","$provide","$compileProvider","$filterProvider","$injector","$animateProvider",function(G,E,z,B,H,I){var y={},C={$controllerProvider:G,$compileProvider:z,$filterProvider:B,$provide:E,$injector:H,$animateProvider:I},A=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0],x,D,F,w=false,J=false;q(angular.element(window.document));this.$get=["$log","$q","$templateCache","$http","$rootElement","$rootScope","$cacheFactory","$interval",function(Y,R,M,S,V,U,T,Q){var O,W=T("ocLazyLoad"),L=false,K=false;if(!w){Y={};Y.error=angular.noop;Y.warn=angular.noop;Y.info=angular.noop}C.getInstanceInjector=function(){return(O)?O:(O=(V.data("$injector")||angular.injector()))};P=function P(Z,aa){if(J){U.$broadcast(Z,aa)}if(w){Y.info(Z,aa)}};var X=function X(ak,ao,ae){var an=R.defer(),ac,ag,ab=function ab(aq){var ap=new Date().getTime();if(aq.indexOf("?")>=0){if(aq.substring(0,aq.length-1)==="&"){return aq+"_dc="+ap}return aq+"&_dc="+ap}else{return aq+"?_dc="+ap}};if(angular.isUndefined(W.get(ao))){W.put(ao,an.promise)}switch(ak){case"css":ac=document.createElement("link");ac.type="text/css";ac.rel="stylesheet";ac.href=ae.cache===false?ab(ao):ao;break;case"js":ac=document.createElement("script");ac.src=ae.cache===false?ab(ao):ao;break;default:an.reject(new Error('Requested type "'+ak+'" is not known. Could not inject "'+ao+'"'));break}ac.onload=ac.onreadystatechange=function(ap){if((ac.readyState&&!(/^c|loade/.test(ac.readyState)))||ag){return}ac.onload=ac.onreadystatechange=null;ag=1;P("ocLazyLoad.fileLoaded",ao);an.resolve()};ac.onerror=function(){an.reject(new Error("Unable to load "+ao))};ac.async=ae.serie?0:1;var ad=A.lastChild;if(ae.insertBefore){var af=angular.element(ae.insertBefore);if(af&&af.length>0){ad=af[0]}}A.insertBefore(ac,ad);if(ak=="css"){if(!L){var Z=navigator.userAgent.toLowerCase();if(/iP(hone|od|ad)/.test(navigator.platform)){var am=(navigator.appVersion).match(/OS (\d+)_(\d+)_?(\d+)?/);var aj=parseFloat([parseInt(am[1],10),parseInt(am[2],10),parseInt(am[3]||0,10)].join("."));K=aj<6}else{if(Z.indexOf("android")>-1){var ah=parseFloat(Z.slice(Z.indexOf("android")+8));K=ah<4.4}else{if(Z.indexOf("safari")>-1&&Z.indexOf("chrome")==-1){var ai=parseFloat(Z.match(/version\/([\.\d]+)/i)[1]);K=ai<6}}}}if(K){var al=1000;var aa=Q(function(){try{ac.sheet.cssRules;Q.cancel(aa);ac.onload()}catch(ap){if(--al<=0){ac.onerror()}}},20)}}return an.promise};if(angular.isUndefined(x)){x=function(ad,af,ac){var aa=[];angular.forEach(ad,function ae(ag){aa.push(X("js",ag,ac))});R.all(aa).then(function ab(){af()},function Z(ag){af(ag)})};x.ocLazyLoadLoader=true}if(angular.isUndefined(D)){D=function(ad,af,ac){var aa=[];angular.forEach(ad,function ae(ag){aa.push(X("css",ag,ac))});R.all(aa).then(function ab(){af()},function Z(ag){af(ag)})};D.ocLazyLoadLoader=true}if(angular.isUndefined(F)){F=function(ad,ae,ac){var aa=[];angular.forEach(ad,function(ag){var af=R.defer();aa.push(af.promise);S.get(ag,ac).success(function(ah){if(angular.isString(ah)&&ah.length>0){angular.forEach(angular.element(ah),function(ai){if(ai.nodeName==="SCRIPT"&&ai.type==="text/ng-template"){M.put(ai.id,ai.innerHTML)}})}if(angular.isUndefined(W.get(ag))){W.put(ag,true)}af.resolve()}).error(function(ah){af.reject(new Error('Unable to load template file "'+ag+'": '+ah))})});return R.all(aa).then(function ab(){ae()},function Z(af){ae(af)})};F.ocLazyLoadLoader=true}var N=function N(aa,ab){var af=[],ak=[],ad=[],ae=[],ac=null;d.push(true);angular.extend(ab||{},aa);var Z=function(an){var am=null,al;if(typeof an==="object"){am=an.type;an=an.path}ac=W.get(an);if(angular.isUndefined(ac)||ab.cache===false){if((al=/^(css|less|html|htm|js)?(?=!)/.exec(an))!==null){am=al[1];an=an.substr(al[1].length+1,an.length)}if(!am){if((al=/[.](css|less|html|htm|js)?(\?.*)?$/.exec(an))!==null){am=al[1]}else{if(!x.hasOwnProperty("ocLazyLoadLoader")&&x.hasOwnProperty("load")){am="js"}else{Y.error("File type could not be determined. "+an);return}}}if((am==="css"||am==="less")&&af.indexOf(an)===-1){af.push(an)}else{if((am==="html"||am==="htm")&&ak.indexOf(an)===-1){ak.push(an)}else{if((am==="js")||ad.indexOf(an)===-1){ad.push(an)}else{Y.error("File type is not valid. "+an)}}}}else{if(ac){ae.push(ac)}}};if(ab.serie){Z(ab.files.shift())}else{angular.forEach(ab.files,function(al){Z(al)})}if(af.length>0){var ah=R.defer();D(af,function(al){if(angular.isDefined(al)&&D.hasOwnProperty("ocLazyLoadLoader")){Y.error(al);ah.reject(al)}else{ah.resolve()}},ab);ae.push(ah.promise)}if(ak.length>0){var ag=R.defer();F(ak,function(al){if(angular.isDefined(al)&&F.hasOwnProperty("ocLazyLoadLoader")){Y.error(al);ag.reject(al)}else{ag.resolve()}},ab);ae.push(ag.promise)}if(ad.length>0){var ai=R.defer();x(ad,function(al){if(angular.isDefined(al)&&x.hasOwnProperty("ocLazyLoadLoader")){Y.error(al);ai.reject(al)}else{ai.resolve()}},ab);ae.push(ai.promise)}if(ab.serie&&ab.files.length>0){return R.all(ae).then(function aj(){return N(aa,ab)})}else{return R.all(ae).then(function(al){d.pop();return al})}};return{getModuleConfig:function(Z){if(!angular.isString(Z)){throw new Error("You need to give the name of the module to get")}if(!y[Z]){return null}return y[Z]},setModuleConfig:function(Z){if(!angular.isObject(Z)){throw new Error("You need to give the module config object to set")}y[Z.name]=Z;return Z},getModules:function(){return c},isLoaded:function(ac){var ab=function(ae){var ad=c.indexOf(ae)>-1;if(!ad){ad=!!e(ae)}return ad};if(angular.isString(ac)){ac=[ac]}if(angular.isArray(ac)){var aa,Z;for(aa=0,Z=ac.length;aa<Z;aa++){if(!ab(ac[aa])){return false}}return true}else{throw new Error("You need to define the module(s) name(s)")}},load:function(ab,ad){var ak=this,ac=null,ah=[],ae=[],al=R.defer(),aa;if(angular.isUndefined(ad)){ad={}}if(angular.isArray(ab)){angular.forEach(ab,function(am){if(am){ae.push(ak.load(am,ad))}});R.all(ae).then(function aj(){al.resolve(ab)},function ag(am){al.reject(am)});return al.promise}if(typeof ab==="string"){ac=ak.getModuleConfig(ab);if(!ac){ac={files:[ab]}}}else{if(typeof ab==="object"){if(angular.isDefined(ab.path)&&angular.isDefined(ab.type)){ac={files:[ab]}}else{ac=ak.setModuleConfig(ab)}}}if(ac===null){var Z=t(ab);aa='Module "'+(Z||"unknown")+'" is not configured, cannot load.';Y.error(aa);al.reject(new Error(aa));return al.promise}else{if(angular.isDefined(ac.template)){if(angular.isUndefined(ac.files)){ac.files=[]}if(angular.isString(ac.template)){ac.files.push(ac.template)}else{if(angular.isArray(ac.template)){ac.files.concat(ac.template)}}}}ah.push=function(am){if(this.indexOf(am)===-1){Array.prototype.push.apply(this,arguments)}};var ai={};angular.extend(ai,ad,ac);var af=function af(ap){var an,ao,aq,at,au=[];an=t(ap);if(an===null){return R.when()}else{try{ao=v(an)}catch(ar){var am=R.defer();Y.error(ar.message);am.reject(ar);return am.promise}aq=b(ao)}angular.forEach(aq,function(av){if(typeof av==="string"){var aw=ak.getModuleConfig(av);if(aw===null){ah.push(av);return}av=aw}if(e(av.name)){if(typeof ap!=="string"){at=av.files.filter(function(ax){return ak.getModuleConfig(av.name).files.indexOf(ax)<0});if(at.length!==0){Y.warn('Module "',an,'" attempted to redefine configuration for dependency. "',av.name,'"\n Additional Files Loaded:',at)}au.push(N(av.files,ai).then(function(){return af(av)}))}return}else{if(angular.isArray(av)){av={files:av}}else{if(typeof av==="object"){if(av.hasOwnProperty("name")&&av.name){ak.setModuleConfig(av);ah.push(av.name)}}}}if(av.hasOwnProperty("files")&&av.files.length!==0){if(av.files){au.push(N(av,ai).then(function(){return af(av)}))}}});return R.all(au)};if(angular.isUndefined(ac.files)&&angular.isDefined(ac.name)&&e(ac.name)){d.push(true);g(ac.name);d.pop()}N(ac,ai).then(function aj(){if(r.length===0){al.resolve(ab)}else{var am=function am(ao){ah.push(ao);af(ao).then(function ap(){try{o=[];a(C,ah,ai)}catch(aq){Y.error(aq.message);al.reject(aq);return}if(r.length>0){am(r.shift())}else{al.resolve(ab)}},function an(aq){al.reject(aq)})};am(r.shift())}},function ag(am){al.reject(am)});return al.promise}}}];this.config=function(K){if(angular.isDefined(K.jsLoader)||angular.isDefined(K.asyncLoader)){if(!angular.isFunction(K.jsLoader||K.asyncLoader)){throw ("The js loader needs to be a function")}x=K.jsLoader||K.asyncLoader}if(angular.isDefined(K.cssLoader)){if(!angular.isFunction(K.cssLoader)){throw ("The css loader needs to be a function")}D=K.cssLoader}if(angular.isDefined(K.templatesLoader)){if(!angular.isFunction(K.templatesLoader)){throw ("The template loader needs to be a function")}F=K.templatesLoader}if(angular.isDefined(K.modules)){if(angular.isArray(K.modules)){angular.forEach(K.modules,function(L){y[L.name]=L})}else{y[K.modules.name]=K.modules}}if(angular.isDefined(K.debug)){w=K.debug}if(angular.isDefined(K.events)){J=K.events}}}]);k.directive("ocLazyLoad",["$ocLazyLoad","$compile","$animate","$parse",function(y,w,z,x){return{restrict:"A",terminal:true,priority:1000,compile:function(B,A){var C=B[0].innerHTML;B.html("");return function(E,D,G){var F=x(G.ocLazyLoad);E.$watch(function(){return F(E)||G.ocLazyLoad},function(H){if(angular.isDefined(H)){y.load(H).then(function I(J){z.enter(w(C)(E),null,D)})}},true)}}}}]);function b(w){var x=[];angular.forEach(w.requires,function(y){if(c.indexOf(y)===-1){x.push(y)}});return x}function e(w){if(!angular.isString(w)){return false}try{return s(w)}catch(x){if(/No module/.test(x)||(x.message.indexOf("$injector:nomod")>-1)){return false}}}function v(w){try{return s(w)}catch(x){if(/No module/.test(x)||(x.message.indexOf("$injector:nomod")>-1)){x.message='The module "'+w+'" that you are trying to load does not exist. '+x.message}throw x}}function f(z,D,w,B){if(!D){return}var A,E,F,G;for(A=0,E=D.length;A<E;A++){F=D[A];if(angular.isArray(F)){if(z!==null){if(z.hasOwnProperty(F[0])){G=z[F[0]]}else{throw new Error("unsupported provider "+F[0])}}var C=h(F,w);if(F[1]!=="invoke"){if(C&&angular.isDefined(G)){G[F[1]].apply(G,F[2])}}else{var x=function(I){var J=m.indexOf(w+"-"+I);if(J===-1||B){if(J===-1){m.push(w+"-"+I)}if(angular.isDefined(G)){G[F[1]].apply(G,F[2])}}};if(angular.isFunction(F[2][0])){x(F[2][0])}else{if(angular.isArray(F[2][0])){for(var y=0,H=F[2][0].length;y<H;y++){if(angular.isFunction(F[2][0][y])){x(F[2][0][y])}}}}}}}}function a(C,F,z){if(F){var A,w,x,E,D=[];for(A=F.length-1;A>=0;A--){x=F[A];if(typeof x!=="string"){x=t(x)}if(!x||o.indexOf(x)!==-1){continue}var y=c.indexOf(x)===-1;E=s(x);if(y){c.push(x);a(C,E.requires,z)}if(E._runBlocks.length>0){i[x]=[];while(E._runBlocks.length>0){i[x].push(E._runBlocks.shift())}}if(angular.isDefined(i[x])&&(y||z.rerun)){D=D.concat(i[x])}f(C,E._invokeQueue,x,z.reconfig);f(C,E._configBlocks,x,z.reconfig);j(y?"ocLazyLoad.moduleLoaded":"ocLazyLoad.moduleReloaded",x);F.pop();o.push(x)}var B=C.getInstanceInjector();angular.forEach(D,function(G){B.invoke(G)})}}function h(z,y){var x=z[2][0],B=z[1],A=false;if(angular.isUndefined(u[y])){u[y]={}}if(angular.isUndefined(u[y][B])){u[y][B]={}}var C=function(E,D){A=true;u[y][B][E].push(D);j("ocLazyLoad.componentLoaded",[y,B,E])};var w=function w(D){if(angular.isArray(D)){return n(D.toString())}else{if(angular.isObject(D)){return n(l(D))}else{if(angular.isDefined(D)&&D!==null){return n(D.toString())}else{return D}}}};if(angular.isString(x)){if(angular.isUndefined(u[y][B][x])){u[y][B][x]=[]}if(u[y][B][x].indexOf(w(z[2][1]))===-1){C(x,w(z[2][1]))}}else{if(angular.isObject(x)){angular.forEach(x,function(D){if(angular.isString(D)){if(angular.isUndefined(u[y][B][D])){u[y][B][D]=[]}if(u[y][B][D].indexOf(w(x[1]))===-1){C(D,w(x[1]))}}})}else{return false}}return A}function t(x){var w=null;if(angular.isString(x)){w=x}else{if(angular.isObject(x)&&x.hasOwnProperty("name")&&angular.isString(x.name)){w=x.name}}return w}function q(y){if(r.length===0){var z=[y],B=["ng:app","ng-app","x-ng-app","data-ng-app"],x=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,w=function w(C){return(C&&z.push(C))};angular.forEach(B,function(C){B[C]=true;w(document.getElementById(C));C=C.replace(":","\\:");if(y[0].querySelectorAll){angular.forEach(y[0].querySelectorAll("."+C),w);angular.forEach(y[0].querySelectorAll("."+C+"\\:"),w);angular.forEach(y[0].querySelectorAll("["+C+"]"),w)}});angular.forEach(z,function(E){if(r.length===0){var D=" "+y.className+" ";var C=x.exec(D);if(C){r.push((C[2]||"").replace(/\s+/g,","))}else{angular.forEach(E.attributes,function(F){if(r.length===0&&B[F.name]){r.push(F.value)}})}}})}if(r.length===0&&!((window.jasmine||window.mocha)&&angular.isDefined(angular.mock))){console.error("No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad.")}var A=function A(D){if(c.indexOf(D)===-1){c.push(D);var C=angular.module(D);f(null,C._invokeQueue,D);f(null,C._configBlocks,D);angular.forEach(C.requires,A)}};angular.forEach(r,function(C){A(C)});r=[];d.pop()}var p=angular.bootstrap;angular.bootstrap=function(y,x,w){angular.forEach(x.slice(),function(z){g(z)});return p(y,x,w)};var g=function g(w){if(d.length>0&&angular.isString(w)&&r.indexOf(w)===-1){r.push(w)}};var s=angular.module;angular.module=function(w,y,x){g(w);return s(w,y,x)};var n=function n(A){var z=0,x,y,w;if(A.length==0){return z}for(x=0,w=A.length;x<w;x++){y=A.charCodeAt(x);z=((z<<5)-z)+y;z|=0}return z};var l=function l(x){var w=[];return JSON.stringify(x,function(y,z){if(typeof z==="object"&&z!==null){if(w.indexOf(z)!==-1){return}w.push(z)}return z})};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(y,z){var x;if(this==null){throw new TypeError('"this" is null or not defined')}var A=Object(this);var w=A.length>>>0;if(w===0){return -1}var B=+z||0;if(Math.abs(B)===Infinity){B=0}if(B>=w){return -1}x=Math.max(B>=0?B:w-Math.abs(B),0);while(x<w){if(x in A&&A[x]===y){return x}x++}return -1}}})();