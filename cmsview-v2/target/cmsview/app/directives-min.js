var directive=angular.module("dolphin.directive",[]);directive.directive("googlePlus",["$window",function(a){return{restrict:"A",scope:{googlePlus:"=?"},link:function(e,c,b){if(!a.gapi){$.getScript("//apis.google.com/js/platform.js",function(){d()})}else{d()}var f=false;function d(){if(!!b.googlePlus&&!e.googlePlus&&!f){f=true;var g=e.$watch("googlePlus",function(i,h){if(i){d();g()}});return}else{c.html('<div class="g-plusone"'+(!!e.googlePlus?' data-href="'+e.googlePlus+'"':"")+' data-size="medium"></div>');a.gapi.plusone.go(c.parent()[0])}}}}}]);directive.directive("tweetShare",["$window","$location",function(a,b){return{restrict:"A",scope:{tweet:"=",tweetUrl:"="},link:function(f,e,d){if(!a.twttr){$.getScript("//platform.twitter.com/widgets.js",function(){c()})}else{c()}var g=false;function c(){if(!!d.tweetUrl&&!f.tweetUrl&&!g){g=true;var h=f.$watch("tweetShare",function(j,i){if(j){c();h()}});return}else{e.html('<a href="https://twitter.com/share" class="twitter-share-button" data-text="" data-url="'+(f.tweetUrl||b.absUrl())+'">Tweet</a>');a.twttr.widgets.load(e.parent()[0])}}}}}]);directive.directive("starRating",function(){return{restrict:"EA",template:"<ul class='rating'>  <li ng-repeat='star in stars' ng-class='star' ng-click='toggle($index)'>    <i class='fa fa-star'></i>  </li></ul>",scope:{ratingValue:"=ngModel",max:"=?",onRatingSelected:"&?",readable:"=?"},link:function(c,d,a){if(c.max==undefined){c.max=5}function b(){c.stars=[];for(var e=0;e<c.max;e++){c.stars.push({filled:e<c.ratingValue})}}c.toggle=function(e){if(c.readable==undefined||c.readable==false){c.ratingValue=e+1;c.onRatingSelected({rating:e+1})}};c.$watch("ratingValue",function(f,e){if(typeof f!="undefined"){b()}})}}});angular.module("sticky",[]).directive("sticky",function(a){return{link:function(d,c,b){var g=angular.element(a);if(d._stickyElements===undefined){d._stickyElements=[];g.bind("scroll.sticky",function(k){var l=g.scrollTop();for(var h=0;h<d._stickyElements.length;h++){var j=d._stickyElements[h];if(!j.isStuck&&l>j.start){j.element.addClass("stuck");j.isStuck=true;if(j.placeholder){j.placeholder=angular.element("<div></div>").css({height:j.element.outerHeight()+"px"}).insertBefore(j.element)}}else{if(j.isStuck&&l<j.start){j.element.removeClass("stuck");j.isStuck=false;if(j.placeholder){j.placeholder.remove();j.placeholder=true}}}}});var f=function(){for(var h=0;h<d._stickyElements.length;h++){var j=d._stickyElements[h];if(!j.isStuck){j.start=j.element.offset().top}else{if(j.placeholder){j.start=j.placeholder.offset().top}}}};g.bind("load",f);g.bind("resize",f)}var e={element:c,isStuck:false,placeholder:b.usePlaceholder!==undefined,start:c.offset().top};d._stickyElements.push(e)}}});