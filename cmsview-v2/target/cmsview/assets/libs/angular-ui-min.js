if(typeof module!=="undefined"&&typeof exports!=="undefined"&&module.exports===exports){module.exports="ui.router"}(function(K,A,m){var y=A.isDefined,r=A.isFunction,j=A.isString,I=A.isObject,z=A.isArray,b=A.forEach,l=A.extend,O=A.copy;function q(T,S){return l(new (l(function(){},{prototype:T}))(),S)}function J(S){b(arguments,function(T){if(T!==S){b(T,function(V,U){if(!S.hasOwnProperty(U)){S[U]=V}})}});return S}function g(U,S){var T=[];for(var V in U.path){if(U.path[V]!==S.path[V]){break}T.push(U.path[V])}return T}function c(T){if(Object.keys){return Object.keys(T)}var S=[];A.forEach(T,function(V,U){S.push(U)});return S}function t(V,T){if(Array.prototype.indexOf){return V.indexOf(T,Number(arguments[2])||0)}var S=V.length>>>0,U=Number(arguments[2])||0;U=(U<0)?Math.ceil(U):Math.floor(U);if(U<0){U+=S}for(;U<S;U++){if(U in V&&V[U]===T){return U}}return -1}function L(Z,V,S,Y){var aa=g(S,Y),ab,W={},X=[];for(var U in aa){if(!aa[U].params){continue}ab=c(aa[U].params);if(!ab.length){continue}for(var T in ab){if(t(X,ab[T])>=0){continue}X.push(ab[T]);W[ab[T]]=Z[ab[T]]}}return l({},W,V)}function D(T,S,W){if(!W){W=[];for(var X in T){W.push(X)}}for(var V=0;V<W.length;V++){var U=W[V];if(T[U]!=S[U]){return false}}return true}function f(U,S){var T={};b(U,function(V){T[V]=S[V]});return T}function v(U,T){var S={};b(U,function(V){S[V[T]]=V});return S}function u(T){var U={};var S=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));b(S,function(V){if(V in T){U[V]=T[V]}});return U}function x(U){var V={};var T=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var S in U){if(t(T,S)==-1){V[S]=U[S]}}return V}function H(U,T){var S=z(U)?[]:{};b(U,function(W,V){S[V]=r(T)?T(W):W[T]});return S}function G(T,V){var U=z(T);var S=U?[]:{};b(T,function(X,W){if(V(X,W)){S[U?S.length:W]=X}});return S}function E(T,U){var S=z(T)?[]:{};b(T,function(W,V){S[V]=U(W,V)});return S}A.module("ui.router.util",["ng"]);A.module("ui.router.router",["ui.router.util"]);A.module("ui.router.state",["ui.router.router","ui.router.util"]);A.module("ui.router",["ui.router.state"]);A.module("ui.router.compat",["ui.router"]);e.$inject=["$q","$injector"];function e(U,Y){var T=1,Z=2,V={},X=[],W=V,S=l(U.when(V),{$$promises:V,$$values:V});this.study=function(ac){if(!I(ac)){throw new Error("'invocables' must be an object")}var ag=c(ac||{});var af=[],ae=[],ab={};function ad(ai,ah){if(ab[ah]===Z){return}ae.push(ah);if(ab[ah]===T){ae.splice(0,t(ae,ah));throw new Error("Cyclic dependency: "+ae.join(" -> "))}ab[ah]=T;if(j(ai)){af.push(ah,[function(){return Y.get(ai)}],X)}else{var aj=Y.annotate(ai);b(aj,function(ak){if(ak!==ah&&ac.hasOwnProperty(ak)){ad(ac[ak],ak)}});af.push(ah,ai,aj)}ae.pop();ab[ah]=Z}b(ac,ad);ac=ae=ab=null;function aa(ah){return I(ah)&&ah.then&&ah.$$promises}return function(ah,aq,au){if(aa(ah)&&au===m){au=aq;aq=ah;ah=null}if(!ah){ah=W}else{if(!I(ah)){throw new Error("'locals' must be an object")}}if(!aq){aq=S}else{if(!aa(aq)){throw new Error("'parent' must be a promise returned by $resolve.resolve()")}}var aj=U.defer(),av=aj.promise,ao=av.$$promises={},ar=l({},ah),an=1+af.length/3,ap=false;function al(){if(!--an){if(!ap){J(ar,aq.$$values)}av.$$values=ar;av.$$promises=av.$$promises||true;delete av.$$inheritedValues;aj.resolve(ar)}}function ai(aw){av.$$failure=aw;aj.reject(aw)}if(y(aq.$$failure)){ai(aq.$$failure);return av}if(aq.$$inheritedValues){J(ar,x(aq.$$inheritedValues,ag))}l(ao,aq.$$promises);if(aq.$$values){ap=J(ar,x(aq.$$values,ag));av.$$inheritedValues=x(aq.$$values,ag);al()}else{if(aq.$$inheritedValues){av.$$inheritedValues=x(aq.$$inheritedValues,ag)}aq.then(al,ai)}for(var am=0,at=af.length;am<at;am+=3){if(ah.hasOwnProperty(af[am])){al()}else{ak(af[am],af[am+1],af[am+2])}}function ak(aw,ax,aC){var aB=U.defer(),aA=0;function az(aD){aB.reject(aD);ai(aD)}b(aC,function(aD){if(ao.hasOwnProperty(aD)&&!ah.hasOwnProperty(aD)){aA++;ao[aD].then(function(aE){ar[aD]=aE;if(!(--aA)){ay()}},az)}});if(!aA){ay()}function ay(){if(y(av.$$failure)){return}try{aB.resolve(Y.invoke(ax,au,ar));aB.promise.then(function(aE){ar[aw]=aE;al()},az)}catch(aD){az(aD)}}ao[aw]=aB.promise}return av}};this.resolve=function(ab,ad,ac,aa){return this.study(ab)(ad,ac,aa)}}A.module("ui.router.util").service("$resolve",e);w.$inject=["$http","$templateCache","$injector"];function w(U,S,T){this.fromConfig=function(V,X,W){return(y(V.template)?this.fromString(V.template,X):y(V.templateUrl)?this.fromUrl(V.templateUrl,X):y(V.templateProvider)?this.fromProvider(V.templateProvider,X,W):null)};this.fromString=function(V,W){return r(V)?V(W):V};this.fromUrl=function(V,W){if(r(V)){V=V(W)}if(V==null){return null}else{return U.get(V,{cache:S,headers:{Accept:"text/html"}}).then(function(X){return X.data})}};this.fromProvider=function(X,W,V){return T.invoke(X,null,V||{params:W})}}A.module("ui.router.util").service("$templateFactory",w);var a;function F(ai,al,V){al=l({params:{}},I(al)?al:{});var W=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,ae=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,aj="^",ab=0,af,ag=this.segments=[],aa=V?V.params:{},ak=this.params=V?V.params.$$new():new a.ParamSet(),X=[];function U(ap,ao,an,am){X.push(ap);if(aa[ap]){return aa[ap]}if(!/^\w+(-+\w+)*(?:\[\])?$/.test(ap)){throw new Error("Invalid parameter name '"+ap+"' in pattern '"+ai+"'")}if(ak[ap]){throw new Error("Duplicate parameter name '"+ap+"' in pattern '"+ai+"'")}ak[ap]=new a.Param(ap,ao,an,am);return ak[ap]}function S(ao,aq,ap){var an=["",""],am=ao.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!aq){return am}switch(ap){case false:an=["(",")"];break;case true:an=["?(",")?"];break;default:an=["("+ap+"|",")?"];break}return am+an[0]+aq+an[1]}this.source=ai;function Y(am,ao){var au,at,ar,aq,an,ap;au=am[2]||am[3];an=al.params[au];ar=ai.substring(ab,am.index);at=ao?am[4]:am[4]||(am[1]=="*"?".*":null);aq=a.type(at||"string")||q(a.type("string"),{pattern:new RegExp(at)});return{id:au,regexp:at,segment:ar,type:aq,cfg:an}}var ad,Z,T;while((af=W.exec(ai))){ad=Y(af,false);if(ad.segment.indexOf("?")>=0){break}Z=U(ad.id,ad.type,ad.cfg,"path");aj+=S(ad.segment,Z.type.pattern.source,Z.squash);ag.push(ad.segment);ab=W.lastIndex}T=ai.substring(ab);var ah=T.indexOf("?");if(ah>=0){var ac=this.sourceSearch=T.substring(ah);T=T.substring(0,ah);this.sourcePath=ai.substring(0,ab+ah);if(ac.length>0){ab=0;while((af=ae.exec(ac))){ad=Y(af,true);Z=U(ad.id,ad.type,ad.cfg,"search");ab=W.lastIndex}}}else{this.sourcePath=ai;this.sourceSearch=""}aj+=S(T)+(al.strict===false?"/?":"")+"$";ag.push(T);this.regexp=new RegExp(aj,al.caseInsensitive?"i":m);this.prefix=ag[0];this.$$paramNames=X}F.prototype.concat=function(U,T){var S={caseInsensitive:a.caseInsensitive(),strict:a.strictMode(),squash:a.defaultSquashPolicy()};return new F(this.sourcePath+U+this.sourceSearch,l(S,T),this)};F.prototype.toString=function(){return this.source};F.prototype.exec=function(af,ac){var V=this.regexp.exec(af);if(!V){return null}ac=ac||{};var S=this.parameters(),U=S.length,ab=this.segments.length-1,ae={},Y,X,aa,Z;if(ab!==V.length-1){throw new Error("Unbalanced capture group in route '"+this.source+"'")}function W(ah){function ak(al){return al.split("").reverse().join("")}function ag(al){return al.replace(/\\-/,"-")}var ai=ak(ah).split(/-(?!\\)/);var aj=E(ai,ak);return E(aj,ag).reverse()}for(Y=0;Y<ab;Y++){Z=S[Y];var T=this.params[Z];var ad=V[Y+1];for(X=0;X<T.replace;X++){if(T.replace[X].from===ad){ad=T.replace[X].to}}if(ad&&T.array===true){ad=W(ad)}ae[Z]=T.value(ad)}for(;Y<U;Y++){Z=S[Y];ae[Z]=this.params[Z].value(ac[Z])}return ae};F.prototype.parameters=function(S){if(!y(S)){return this.$$paramNames}return this.params[S]||null};F.prototype.validates=function(S){return this.params.$$validates(S)};F.prototype.format=function(S){S=S||{};var ad=this.segments,aj=this.parameters(),ah=this.params;if(!this.validates(S)){return null}var ag,W=false,ae=ad.length-1,af=aj.length,Y=ad[0];function V(al){return encodeURIComponent(al).replace(/-/g,function(am){return"%5C%"+am.charCodeAt(0).toString(16).toUpperCase()})}for(ag=0;ag<af;ag++){var Z=ag<ae;var ak=aj[ag],U=ah[ak],aa=U.value(S[ak]);var X=U.isOptional&&U.type.equals(U.value(),aa);var ai=X?U.squash:false;var T=U.type.encode(aa);if(Z){var ac=ad[ag+1];if(ai===false){if(T!=null){if(z(T)){Y+=E(T,V).join("-")}else{Y+=encodeURIComponent(T)}}Y+=ac}else{if(ai===true){var ab=Y.match(/\/$/)?/\/?(.*)/:/(.*)/;Y+=ac.match(ab)[1]}else{if(j(ai)){Y+=ai+ac}}}}else{if(T==null||(X&&ai!==false)){continue}if(!z(T)){T=[T]}T=E(T,encodeURIComponent).join("&"+ak+"=");Y+=(W?"&":"?")+(ak+"="+T);W=true}}return Y};function M(S){l(this,S)}M.prototype.is=function(T,S){return true};M.prototype.encode=function(T,S){return T};M.prototype.decode=function(T,S){return T};M.prototype.equals=function(T,S){return T==S};M.prototype.$subPattern=function(){var S=this.pattern.toString();return S.substr(1,S.length-2)};M.prototype.pattern=/.*/;M.prototype.toString=function(){return"{Type:"+this.name+"}"};M.prototype.$asArray=function(T,S){if(!T){return this}if(T==="auto"&&!S){throw new Error("'auto' array mode is for query parameters only")}return new U(this,T);function U(Y,aa){function W(ad,ae){return function(){return ad[ae].apply(ad,arguments)}}function ac(ad){return z(ad)?ad:(y(ad)?[ad]:[])}function X(ad){switch(ad.length){case 0:return m;case 1:return aa==="auto"?ad[0]:ad;default:return ad}}function Z(ad){return !ad}function V(af,ae){return function ad(ah){ah=ac(ah);var ag=E(ah,af);if(ae===true){return G(ag,Z).length===0}return X(ag)}}function ab(ae){return function ad(ai,ah){var aj=ac(ai),ag=ac(ah);if(aj.length!==ag.length){return false}for(var af=0;af<aj.length;af++){if(!ae(aj[af],ag[af])){return false}}return true}}this.encode=V(W(Y,"encode"));this.decode=V(W(Y,"decode"));this.is=V(W(Y,"is"),true);this.equals=ab(W(Y,"equals"));this.pattern=Y.pattern;this.$arrayMode=aa}};function i(){a=this;var aa=false,ah=true,W=false;function ac(aj){return aj!=null?aj.toString().replace(/\//g,"%2F"):aj}function ag(aj){return aj!=null?aj.toString().replace(/%2F/g,"/"):aj}function Y(aj){return this.pattern.test(aj)}var ad={},T=true,ae=[],ab,Z={string:{encode:ac,decode:ag,is:Y,pattern:/[^/]*/},"int":{encode:ac,decode:function(aj){return parseInt(aj,10)},is:function(aj){return y(aj)&&this.decode(aj.toString())===aj},pattern:/\d+/},bool:{encode:function(aj){return aj?1:0},decode:function(aj){return parseInt(aj,10)!==0},is:function(aj){return aj===true||aj===false},pattern:/0|1/},date:{encode:function(aj){if(!this.is(aj)){return m}return[aj.getFullYear(),("0"+(aj.getMonth()+1)).slice(-2),("0"+aj.getDate()).slice(-2)].join("-")},decode:function(ak){if(this.is(ak)){return ak}var aj=this.capture.exec(ak);return aj?new Date(aj[1],aj[2]-1,aj[3]):m},is:function(aj){return aj instanceof Date&&!isNaN(aj.valueOf())},equals:function(ak,aj){return this.is(ak)&&this.is(aj)&&ak.toISOString()===aj.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:A.toJson,decode:A.fromJson,is:A.isObject,equals:A.equals,pattern:/[^/]*/},any:{encode:A.identity,decode:A.identity,is:A.identity,equals:A.equals,pattern:/.*/}};function af(){return{strict:ah,caseInsensitive:aa}}function X(aj){return(r(aj)||(z(aj)&&r(aj[aj.length-1])))}i.$$getDefaultValue=function(aj){if(!X(aj.value)){return aj.value}if(!ab){throw new Error("Injectable functions cannot be called at configuration time")}return ab.invoke(aj.value)};this.caseInsensitive=function(aj){if(y(aj)){aa=aj}return aa};this.strictMode=function(aj){if(y(aj)){ah=aj}return ah};this.defaultSquashPolicy=function(aj){if(!y(aj)){return W}if(aj!==true&&aj!==false&&!j(aj)){throw new Error("Invalid squash policy: "+aj+". Valid policies: false, true, arbitrary-string")}W=aj;return aj};this.compile=function(ak,aj){return new F(ak,l(af(),aj))};this.isMatcher=function(ak){if(!I(ak)){return false}var aj=true;b(F.prototype,function(am,al){if(r(am)){aj=aj&&(y(ak[al])&&r(ak[al]))}});return aj};this.type=function(aj,ak,al){if(!y(ak)){return ad[aj]}if(ad.hasOwnProperty(aj)){throw new Error("A type named '"+aj+"' has already been defined.")}ad[aj]=new M(l({name:aj},ak));if(al){ae.push({name:aj,def:al});if(!T){U()}}return this};function U(){while(ae.length){var aj=ae.shift();if(aj.pattern){throw new Error("You cannot override a type's .pattern at runtime.")}A.extend(ad[aj.name],ab.invoke(aj.def))}}b(Z,function(ak,aj){ad[aj]=new M(l({name:aj},ak))});ad=q(ad,{});this.$get=["$injector",function(aj){ab=aj;T=false;U();b(Z,function(al,ak){if(!ad[ak]){ad[ak]=new M(al)}});return this}];this.Param=function S(al,aw,ap,ay){var aA=this;ap=ak(ap);aw=av(ap,aw,ay);var at=aj();aw=at?aw.$asArray(at,ay==="search"):aw;if(aw.name==="string"&&!at&&ay==="path"&&ap.value===m){ap.value=""}var aq=ap.value!==m;var ar=au(ap,aq);var ao=az(ap,at,aq,ar);function ak(aB){var aD=I(aB)?c(aB):[];var aC=t(aD,"value")===-1&&t(aD,"type")===-1&&t(aD,"squash")===-1&&t(aD,"array")===-1;if(aC){aB={value:aB}}aB.$$fn=X(aB.value)?aB.value:function(){return aB.value};return aB}function av(aC,aD,aB){if(aC.type&&aD){throw new Error("Param '"+al+"' has two type configurations.")}if(aD){return aD}if(!aC.type){return(aB==="config"?ad.any:ad.string)}return aC.type instanceof M?aC.type:new M(aC.type)}function aj(){var aC={array:(ay==="search"?"auto":false)};var aB=al.match(/\[\]$/)?{array:true}:{};return l(aC,aB,ap).array}function au(aC,aB){var aD=aC.squash;if(!aB||aD===false){return false}if(!y(aD)||aD==null){return W}if(aD===true||j(aD)){return aD}throw new Error("Invalid squash policy: '"+aD+"'. Valid policies: false, true, or arbitrary string")}function az(aE,aD,aC,aH){var aF,aB,aG=[{from:"",to:(aC||aD?m:"")},{from:null,to:(aC||aD?m:"")}];aF=z(aE.replace)?aE.replace:[];if(j(aH)){aF.push({from:aH,to:m})}aB=E(aF,function(aI){return aI.from});return G(aG,function(aI){return t(aB,aI.from)===-1}).concat(aF)}function an(){if(!ab){throw new Error("Injectable functions cannot be called at configuration time")}return ab.invoke(ap.$$fn)}function ax(aD){function aC(aE){return function(aF){return aF.from===aE}}function aB(aF){var aE=E(G(aA.replace,aC(aF)),function(aG){return aG.to});return aE.length?aE[0]:aF}aD=aB(aD);return y(aD)?aA.type.decode(aD):an()}function am(){return"{Param:"+al+" "+aw+" squash: '"+ar+"' optional: "+aq+"}"}l(this,{id:al,type:aw,location:ay,array:at,squash:ar,replace:ao,isOptional:aq,value:ax,dynamic:m,config:ap,toString:am})};function V(aj){l(this,aj||{})}V.prototype={$$new:function(){return q(this,l(new V(),{$$parent:this}))},$$keys:function(){var al=[],aj=[],ak=this,am=c(V.prototype);while(ak){aj.push(ak);ak=ak.$$parent}aj.reverse();b(aj,function(an){b(c(an),function(ao){if(t(al,ao)===-1&&t(am,ao)===-1){al.push(ao)}})});return al},$$values:function(al){var ak={},aj=this;b(aj.$$keys(),function(am){ak[am]=aj[am].value(al&&al[am])});return ak},$$equals:function(aj,am){var al=true,ak=this;b(ak.$$keys(),function(ao){var ap=aj&&aj[ao],an=am&&am[ao];if(!ak[ao].type.equals(ap,an)){al=false}});return al},$$validates:function ai(am){var aj=true,ak,ao,an,al=this;b(this.$$keys(),function(ap){an=al[ap];ao=am[ap];ak=!ao&&an.isOptional;aj=aj&&(ak||!!an.type.is(ao))});return aj},$$parent:m};this.ParamSet=V}A.module("ui.router.util").provider("$urlMatcherFactory",i);A.module("ui.router.util").run(["$urlMatcherFactory",function(S){}]);d.$inject=["$locationProvider","$urlMatcherFactoryProvider"];function d(Y,X){var ab=[],T=null,aa=false,U;function V(ac){var ad=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(ac.source);return(ad!=null)?ad[1].replace(/\\(.)/g,"$1"):""}function W(ad,ac){return ad.replace(/\$(\$|\d{1,2})/,function(ae,af){return ac[af==="$"?0:Number(af)]})}this.rule=function(ac){if(!r(ac)){throw new Error("'rule' must be a function")}ab.push(ac);return this};this.otherwise=function(ac){if(j(ac)){var ad=ac;ac=function(){return ad}}else{if(!r(ac)){throw new Error("'rule' must be a function")}}T=ac;return this};function S(af,ae,ad){if(!ad){return false}var ac=af.invoke(ae,ae,{$match:ad});return y(ac)?ac:true}this.when=function(af,ad){var ai,ag=j(ad);if(j(af)){af=X.compile(af)}if(!ag&&!r(ad)&&!z(ad)){throw new Error("invalid 'handler' in when()")}var ae={matcher:function(ak,aj){if(ag){ai=X.compile(aj);aj=["$match",function(al){return ai.format(al)}]}return l(function(al,am){return S(al,aj,ak.exec(am.path(),am.search()))},{prefix:j(ak.prefix)?ak.prefix:""})},regex:function(ak,aj){if(ak.global||ak.sticky){throw new Error("when() RegExp must not be global or sticky")}if(ag){ai=aj;aj=["$match",function(al){return W(ai,al)}]}return l(function(al,am){return S(al,aj,ak.exec(am.path()))},{prefix:V(ak)})}};var ac={matcher:X.isMatcher(af),regex:af instanceof RegExp};for(var ah in ac){if(ac[ah]){return this.rule(ae[ah](af,ad))}}throw new Error("invalid 'what' in when()")};this.deferIntercept=function(ac){if(ac===m){ac=true}aa=ac};this.$get=Z;Z.$inject=["$location","$rootScope","$injector","$browser"];function Z(ah,ai,ak,al){var ac=al.baseHref(),aj=ah.url(),ae;function ag(am,an,ao){if(ac==="/"){return am}if(an){return ac.slice(0,-1)+am}if(ao){return ac.slice(1)+am}return am}function af(an){if(an&&an.defaultPrevented){return}var ap=ae&&ah.url()===ae;ae=m;if(ap){return true}function am(at){var ar=at(ak,ah);if(!ar){return false}if(j(ar)){ah.replace().url(ar)}return true}var aq=ab.length,ao;for(ao=0;ao<aq;ao++){if(am(ab[ao])){return}}if(T){am(T)}}function ad(){U=U||ai.$on("$locationChangeSuccess",af);return U}if(!aa){ad()}return{sync:function(){af()},listen:function(){return ad()},update:function(am){if(am){aj=ah.url();return}if(ah.url()===aj){return}ah.url(aj);ah.replace()},push:function(an,ao,am){ah.url(an.format(ao||{}));ae=am&&am.$$avoidResync?ah.url():m;if(am&&am.replace){ah.replace()}},href:function(ar,at,ao){if(!ar.validates(at)){return null}var aq=Y.html5Mode();if(A.isObject(aq)){aq=aq.enabled}var an=ar.format(at);ao=ao||{};if(!aq&&an!==null){an="#"+Y.hashPrefix()+an}an=ag(an,aq,ao.absolute);if(!ao.absolute||!an){return an}var ap=(!aq&&an?"/":""),am=ah.port();am=(am===80||am===443?"":":"+am);return[ah.protocol(),"://",ah.host(),am,ap,an].join("")}}}}A.module("ui.router.router").provider("$urlRouter",d);n.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"];function n(aa,ak){var af,Z={},aj,ag={},W="abstract";var ac={parent:function(am){if(y(am.parent)&&am.parent){return V(am.parent)}var al=/^(.+)\.[^.]+$/.exec(am.name);return al?V(al[1]):af},data:function(al){if(al.parent&&al.parent.data){al.data=al.self.data=l({},al.parent.data,al.data)}return al.data},url:function(an){var am=an.url,al={params:an.params||{}};if(j(am)){if(am.charAt(0)=="^"){return ak.compile(am.substring(1),al)}return(an.parent.navigable||af).url.concat(am,al)}if(!am||ak.isMatcher(am)){return am}throw new Error("Invalid url '"+am+"' in state '"+an+"'")},navigable:function(al){return al.url?al:(al.parent?al.parent.navigable:null)},ownParams:function(al){var am=al.url&&al.url.params||new a.ParamSet();b(al.params||{},function(an,ao){if(!am[ao]){am[ao]=new a.Param(ao,null,an,"config")}});return am},params:function(al){return al.parent&&al.parent.params?l(al.parent.params.$$new(),al.ownParams):new a.ParamSet()},views:function(am){var al={};b(y(am.views)?am.views:{"":am},function(an,ao){if(ao.indexOf("@")<0){ao+="@"+am.parent.name}al[ao]=an});return al},path:function(al){return al.parent?al.parent.path.concat(al):[]},includes:function(am){var al=am.parent?l({},am.parent.includes):{};al[am.name]=true;return al},$delegates:{}};function ae(al){return al.indexOf(".")===0||al.indexOf("^")===0}function V(ao,an){if(!ao){return m}var ar=j(ao),am=ar?ao:ao.name,av=ae(am);if(av){if(!an){throw new Error("No reference point given for path '"+am+"'")}an=V(an);var au=am.split("."),ap=0,at=au.length,aq=an;for(;ap<at;ap++){if(au[ap]===""&&ap===0){aq=an;continue}if(au[ap]==="^"){if(!aq.parent){throw new Error("Path '"+am+"' not valid for state '"+an.name+"'")}aq=aq.parent;continue}break}au=au.slice(ap).join(".");am=aq.name+(aq.name&&au?".":"")+au}var al=Z[am];if(al&&(ar||(!ar&&(al===ao||al.self===ao)))){return al}return m}function ah(am,al){if(!ag[am]){ag[am]=[]}ag[am].push(al)}function ab(al){var am=ag[al]||[];while(am.length){T(am.shift())}}function T(an){an=q(an,{self:an,resolve:an.resolve||{},toString:function(){return this.name}});var al=an.name;if(!j(al)||al.indexOf("@")>=0){throw new Error("State must have a valid name")}if(Z.hasOwnProperty(al)){throw new Error("State '"+al+"'' is already defined")}var ao=(al.indexOf(".")!==-1)?al.substring(0,al.lastIndexOf(".")):(j(an.parent))?an.parent:(I(an.parent)&&j(an.parent.name))?an.parent.name:"";if(ao&&!Z[ao]){return ah(ao,an.self)}for(var am in ac){if(r(ac[am])){an[am]=ac[am](an,ac.$delegates[am])}}Z[al]=an;if(!an[W]&&an.url){aa.when(an.url,["$match","$stateParams",function(ap,aq){if(aj.$current.navigable!=an||!D(ap,aq)){aj.transitionTo(an,ap,{inherit:true,location:false})}}])}ab(al);return an}function ai(al){return al.indexOf("*")>-1}function U(ap){var ao=ap.split("."),am=aj.$current.name.split(".");if(ao[0]==="**"){am=am.slice(t(am,ao[1]));am.unshift("**")}if(ao[ao.length-1]==="**"){am.splice(t(am,ao[ao.length-2])+1,Number.MAX_VALUE);am.push("**")}if(ao.length!=am.length){return false}for(var an=0,al=ao.length;an<al;an++){if(ao[an]==="*"){am[an]="*"}}return am.join("")===ao.join("")}af=T({name:"",url:"^",views:null,"abstract":true});af.navigable=null;this.decorator=S;function S(al,am){if(j(al)&&!y(am)){return ac[al]}if(!r(am)||!j(al)){return this}if(ac[al]&&!ac.$delegates[al]){ac.$delegates[al]=ac[al]}ac[al]=am;return this}this.state=X;function X(al,am){if(I(al)){am=al}else{am.name=al}T(am);return this}this.$get=Y;Y.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"];function Y(aq,aD,az,aA,am,aF,aG,ap,aC){var ar=aD.reject(new Error("transition superseded"));var an=aD.reject(new Error("transition prevented"));var at=aD.reject(new Error("transition aborted"));var au=aD.reject(new Error("transition failed"));function aE(aM,aK,aL,aJ){var aI=aq.$broadcast("$stateNotFound",aM,aK,aL);if(aI.defaultPrevented){aG.update();return at}if(!aI.retry){return null}if(aJ.$retry){aG.update();return au}var aH=aj.transition=aD.when(aI.retry);aH.then(function(){if(aH!==aj.transition){return ar}aM.options.$retry=true;return aj.transitionTo(aM.to,aM.toParams,aM.options)},function(){return at});aG.update();return aH}af.locals={resolve:null,globals:{$stateParams:{}}};aj={params:{},current:af.self,$current:af,transition:null};aj.reload=function ax(){return aj.transitionTo(aj.current,aF,{reload:true,inherit:false,notify:true})};aj.go=function aw(aJ,aI,aH){return aj.transitionTo(aJ,aI,l({inherit:true,relative:aj.$current},aH))};aj.transitionTo=function al(aI,aP,aK){aP=aP||{};aK=l({location:true,inherit:false,relative:null,notify:true,reload:false,$retry:false},aK||{});var aV=aj.$current,aW=aj.params,aM=aV.path;var aQ,aS=V(aI,aK.relative);if(!y(aS)){var aO={to:aI,toParams:aP,options:aK};var aH=aE(aO,aV.self,aW,aK);if(aH){return aH}aI=aO.to;aP=aO.toParams;aK=aO.options;aS=V(aI,aK.relative);if(!y(aS)){if(!aK.relative){throw new Error("No such state '"+aI+"'")}throw new Error("Could not resolve '"+aI+"' from state '"+aK.relative+"'")}}if(aS[W]){throw new Error("Cannot transition to abstract state '"+aI+"'")}if(aK.inherit){aP=L(aF,aP||{},aj.$current,aS)}if(!aS.params.$$validates(aP)){return au}aP=aS.params.$$values(aP);aI=aS;var aR=aI.path;var aX=0,aL=aR[aX],aN=af.locals,aJ=[];if(!aK.reload){while(aL&&aL===aM[aX]&&aL.ownParams.$$equals(aP,aW)){aN=aJ[aX]=aL.locals;aX++;aL=aR[aX]}}if(ad(aI,aV,aN,aK)){if(aI.self.reloadOnSearch!==false){aG.update()}aj.transition=null;return aD.when(aj.current)}aP=f(aI.params.$$keys(),aP||{});if(aK.notify){if(aq.$broadcast("$stateChangeStart",aI.self,aP,aV.self,aW).defaultPrevented){aG.update();return an}}var aT=aD.when(aN);for(var aU=aX;aU<aR.length;aU++,aL=aR[aU]){aN=aJ[aU]=q(aN);aT=av(aL,aP,aL===aI,aT,aN,aK)}var aY=aj.transition=aT.then(function(){var aZ,a1,a0;if(aj.transition!==aY){return ar}for(aZ=aM.length-1;aZ>=aX;aZ--){a0=aM[aZ];if(a0.self.onExit){aA.invoke(a0.self.onExit,a0.self,a0.locals.globals)}a0.locals=null}for(aZ=aX;aZ<aR.length;aZ++){a1=aR[aZ];a1.locals=aJ[aZ];if(a1.self.onEnter){aA.invoke(a1.self.onEnter,a1.self,a1.locals.globals)}}if(aj.transition!==aY){return ar}aj.$current=aI;aj.current=aI.self;aj.params=aP;O(aj.params,aF);aj.transition=null;if(aK.location&&aI.navigable){aG.push(aI.navigable.url,aI.navigable.locals.globals.$stateParams,{$$avoidResync:true,replace:aK.location==="replace"})}if(aK.notify){aq.$broadcast("$stateChangeSuccess",aI.self,aP,aV.self,aW)}aG.update(true);return aj.current},function(aZ){if(aj.transition!==aY){return ar}aj.transition=null;aQ=aq.$broadcast("$stateChangeError",aI.self,aP,aV.self,aW,aZ);if(!aQ.defaultPrevented){aG.update()}return aD.reject(aZ)});return aY};aj.is=function ao(aI,aK,aH){aH=l({relative:aj.$current},aH||{});var aJ=V(aI,aH.relative);if(!y(aJ)){return m}if(aj.$current!==aJ){return false}return aK?D(aJ.params.$$values(aK),aF):true};aj.includes=function ay(aI,aK,aH){aH=l({relative:aj.$current},aH||{});if(j(aI)&&ai(aI)){if(!U(aI)){return false}aI=aj.$current.name}var aJ=V(aI,aH.relative);if(!y(aJ)){return m}if(!y(aj.$current.includes[aJ.name])){return false}return aK?D(aJ.params.$$values(aK),aF,c(aK)):true};aj.href=function aB(aI,aL,aH){aH=l({lossy:true,inherit:true,absolute:false,relative:aj.$current},aH||{});var aJ=V(aI,aH.relative);if(!y(aJ)){return null}if(aH.inherit){aL=L(aF,aL||{},aj.$current,aJ)}var aK=(aJ&&aH.lossy)?aJ.navigable:aJ;if(!aK||aK.url===m||aK.url===null){return null}return aG.href(aK.url,f(aJ.params.$$keys(),aL||{}),{absolute:aH.absolute})};aj.get=function(aI,aH){if(arguments.length===0){return E(c(Z),function(aK){return Z[aK].self})}var aJ=V(aI,aH||aj.$current);return(aJ&&aJ.self)?aJ.self:null};function av(aH,aJ,aN,aK,aL,aP){var aO=(aN)?aJ:f(aH.params.$$keys(),aJ);var aI={$stateParams:aO};aL.resolve=am.resolve(aH.resolve,aI,aL.resolve,aH);var aM=[aL.resolve.then(function(aQ){aL.globals=aQ})];if(aK){aM.push(aK)}b(aH.views,function(aQ,aR){var aS=(aQ.resolve&&aQ.resolve!==aH.resolve?aQ.resolve:{});aS.$template=[function(){return az.load(aR,{view:aQ,locals:aI,params:aO,notify:aP.notify})||""}];aM.push(am.resolve(aS,aI,aL.resolve,aH).then(function(aT){if(r(aQ.controllerProvider)||z(aQ.controllerProvider)){var aU=A.extend({},aS,aI);aT.$$controller=aA.invoke(aQ.controllerProvider,null,aU)}else{aT.$$controller=aQ.controller}aT.$$state=aH;aT.$$controllerAs=aQ.controllerAs;aL[aR]=aT}))});return aD.all(aM).then(function(aQ){return aL})}return aj}function ad(ao,an,am,al){if(ao===an&&((am===an.locals&&!al.reload)||(ao.self.reloadOnSearch===false))){return true}}}A.module("ui.router.state").value("$stateParams",{}).provider("$state",n);R.$inject=[];function R(){this.$get=S;S.$inject=["$rootScope","$templateFactory"];function S(T,V){return{load:function U(Y,X){var W,Z={template:null,controller:null,view:null,locals:null,notify:true,async:true,params:{}};X=l(Z,X);if(X.view){W=V.fromConfig(X.view,X.params,X.locals)}if(W&&X.notify){T.$broadcast("$viewContentLoading",X)}return W}}}}A.module("ui.router.state").provider("$view",R);function h(){var S=false;this.useAnchorScroll=function(){S=true};this.$get=["$anchorScroll","$timeout",function(U,T){if(S){return U}return function(V){T(function(){V[0].scrollIntoView()},0,false)}}]}A.module("ui.router.state").provider("$uiViewScroll",h);p.$inject=["$state","$injector","$uiViewScroll","$interpolate"];function p(S,aa,U,V){function W(){return(aa.has)?function(ac){return aa.has(ac)?aa.get(ac):null}:function(ac){try{return aa.get(ac)}catch(ad){return null}}}var X=W(),ab=X("$animator"),Y=X("$animate");function T(ad,ae){var af=function(){return{enter:function(ah,ai,ag){ai.after(ah);ag()},leave:function(ah,ag){ah.remove();ag()}}};if(Y){return{enter:function(ah,ai,ag){var aj=Y.enter(ah,null,ai,ag);if(aj&&aj.then){aj.then(ag)}},leave:function(ah,ag){var ai=Y.leave(ah,ag);if(ai&&ai.then){ai.then(ag)}}}}if(ab){var ac=ab&&ab(ae,ad);return{enter:function(ah,ai,ag){ac.enter(ah,null,ai);ag()},leave:function(ah,ag){ac.leave(ah);ag()}}}return af()}var Z={restrict:"ECA",terminal:true,priority:400,transclude:"element",compile:function(ad,ae,ac){return function(ao,an,al){var ag,aj,aq,af,am=al.onload||"",ah=al.autoscroll,ai=T(al,ao);ao.$on("$stateChangeSuccess",function(){ap(false)});ao.$on("$viewContentLoading",function(){ap(false)});ap(true);function ak(){if(ag){ag.remove();ag=null}if(aq){aq.$destroy();aq=null}if(aj){ai.leave(aj,function(){ag=null});ag=aj;aj=null}}function ap(aw){var au,ar=s(ao,al,an,V),at=ar&&S.$current&&S.$current.locals[ar];if(!aw&&at===af){return}au=ao.$new();af=S.$current.locals[ar];var av=ac(au,function(ay){ai.enter(ay,an,function ax(){if(aq){aq.$emit("$viewContentAnimationEnded")}if(A.isDefined(ah)&&!ah||ao.$eval(ah)){U(ay)}});ak()});aj=av;aq=au;aq.$emit("$viewContentLoaded");aq.$eval(am)}}}};return Z}Q.$inject=["$compile","$controller","$state","$interpolate"];function Q(U,S,T,V){return{restrict:"ECA",priority:-400,compile:function(W){var X=W.html();return function(ac,Z,ab){var af=T.$current,aa=s(ac,ab,Z,V),ae=af&&af.locals[aa];if(!ae){return}Z.data("$uiView",{name:aa,state:ae.$$state});Z.html(ae.$template?ae.$template:X);var ad=U(Z.contents());if(ae.$$controller){ae.$scope=ac;var Y=S(ae.$$controller,ae);if(ae.$$controllerAs){ac[ae.$$controllerAs]=Y}Z.data("$ngControllerController",Y);Z.children().data("$ngControllerController",Y)}ad(ac)}}}}function s(W,U,V,X){var T=X(U.uiView||U.name||"")(W);var S=V.inheritedData("$uiView");return T.indexOf("@")>=0?T:(T+"@"+(S?S.state.name:""))}A.module("ui.router.state").directive("uiView",p);A.module("ui.router.state").directive("uiView",Q);function C(U,V){var T=U.match(/^\s*({[^}]*})\s*$/),S;if(T){U=V+"("+T[1]+")"}S=U.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!S||S.length!==4){throw new Error("Invalid state ref '"+U+"'")}return{state:S[1],paramExpr:S[3]||null}}function P(T){var S=T.parent().inheritedData("$uiView");if(S&&S.state&&S.state.name){return S.state}}k.$inject=["$state","$timeout"];function k(U,T){var S=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(aj,ae,ai,X){var aa=C(ai.uiSref,U.current.name);var ab=null,Y=null,Z=P(ae)||U.$current;var ag=null,W=ae.prop("tagName")==="A";var ah=ae[0].nodeName==="FORM";var af=ah?"action":"href",V=true;var ak={relative:Z,inherit:true};var ad=aj.$eval(ai.uiSrefOpts)||{};A.forEach(S,function(al){if(al in ad){ak[al]=ad[al]}});var ac=function(am){if(am){ab=A.copy(am)}if(!V){return}ag=U.href(aa.state,ab,ak);var al=X[1]||X[0];if(al){al.$$setStateInfo(aa.state,ab)}if(ag===null){V=false;return false}ai.$set(af,ag)};if(aa.paramExpr){aj.$watch(aa.paramExpr,function(am,al){if(am!==ab){ac(am)}},true);ab=A.copy(aj.$eval(aa.paramExpr))}ac();if(ah){return}ae.bind("click",function(an){var am=an.which||an.button;if(!(am>1||an.ctrlKey||an.metaKey||an.shiftKey||ae.attr("target"))){var ao=T(function(){U.go(aa.state,ab,ak)});an.preventDefault();var al=W&&!ag?1:0;an.preventDefault=function(){if(al--<=0){T.cancel(ao)}}}})}}}N.$inject=["$state","$stateParams","$interpolate"];function N(S,T,U){return{restrict:"A",controller:["$scope","$element","$attrs",function(X,W,V){var aa,ab,Y;Y=U(V.uiSrefActiveEq||V.uiSrefActive||"",false)(X);this.$$setStateInfo=function(ad,ae){aa=S.get(ad,P(W));ab=ae;ac()};X.$on("$stateChangeSuccess",ac);function ac(){if(Z()){W.addClass(Y)}else{W.removeClass(Y)}}function Z(){if(typeof V.uiSrefActiveEq!=="undefined"){return aa&&S.is(aa.name,ab)}else{return aa&&S.includes(aa.name,ab)}}}]}}A.module("ui.router.state").directive("uiSref",k).directive("uiSrefActive",N).directive("uiSrefActiveEq",N);B.$inject=["$state"];function B(T){var S=function(U){return T.is(U)};S.$stateful=true;return S}o.$inject=["$state"];function o(T){var S=function(U){return T.includes(U)};S.$stateful=true;return S}A.module("ui.router.state").filter("isState",B).filter("includedByState",o)})(window,window.angular);