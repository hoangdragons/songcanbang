(function(){angular.module("ng-jwplayer").directive("jwplayer",a);function a(f,g,b,c){var e;var d=function(k,j){var i=k.playerId||"myPlayer1";var h=function(l){return'<div id="'+l+'"></div>'};j.html(h(i));f(j.contents())(k);e=c.initJWPlayer(i);e.setup(k.playerOptions);e.on("ready",function(){b.$broadcast("ng-jwplayer-ready",{playerId:i})})};return{restrict:"EC",scope:{playerId:"@",playerOptions:"=",listVideoUrl:"="},link:function(k,j,i){var h=k.playerId||"myPlayer1";k.$on("$destroy",function(){g.debug("jwplayer onDestroy: "+h);c.cleanUp(h)});k.$watch(function(){return k.listVideoUrl},function(n){g.debug("ng-src("+h+") has changed: "+n);if(angular.isDefined(k.playerOptions)){if(n.constructor===Array){var m=[];for(var l=0;l<n.length;l++){m.push({file:n[l]})}k.playerOptions.playlist=m}else{k.playerOptions.file=n}d(k,j)}})}}}})();