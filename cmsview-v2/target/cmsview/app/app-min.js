var dolphin=angular.module("dolphin",["ui.router","ui.bootstrap","ngStorage","angular-jwt","dolphin.controller","ng-jwplayer","globalErrorHandlerModule","pascalprecht.translate","ngAnimate","ngDragDrop","ngSanitize","oc.lazyLoad","chieffancypants.loadingBar","duScroll","sticky"]);dolphin.value("parentPage",{url:"/"});dolphin.constant("contextPath",{cmsview:"http://localhost:8080/cmsview",cmscore:"http://localhost:8080/cmscore",cmsadmin:"http://localhost:8080/cmsadmin",idm:"http://accounts.songcanbang.org",});dolphin.config(["$stateProvider","$urlRouterProvider","contextPath","$locationProvider",function(d,a,c,b){d.state("courses",{"abstract":true,url:"/courses",templateUrl:appHelper.componentView("layouts","template"),resolve:{resources:function(e){return e.load([ASSETS.js("layouts","jquery.nicescroll.min"),ASSETS.js("layouts","layouts"),ASSETS.core.core,])},},authenticate:false}).state("courses.courseList",{url:"/courseList/:categoryId",templateUrl:appHelper.componentView("course","courseList"),resolve:{resources:function(e){return e.load([ASSETS.css("course","courseList"),])},},authenticate:false,controller:"CourseListController"}).state("courses.search",{url:"/search/:searchText",templateUrl:appHelper.componentView("course","courseList"),resolve:{resources:function(e){return e.load([ASSETS.css("course","courseList"),])},},authenticate:false,controller:"SearchCourseController"}).state("courses.cartDetail",{url:"/cartDetail",templateUrl:appHelper.componentView("course","shoppingCartDetail"),resolve:{resources:function(e){return e.load([ASSETS.css("course","courseList"),])},},authenticate:false,controller:"ShoppingCartController"}).state("courses.courseDetail",{url:"/courseDetail/:courseId",templateUrl:appHelper.componentView("course","courseDetail"),resolve:{resources:function(e){return e.load([ASSETS.css("course","courseDetail"),])},},authenticate:false,controller:"CourseDetailController"}).state("courses.customerDetail",{url:"/customerDetail",templateUrl:appHelper.componentView("customer","customerDetail"),resolve:{resources:function(e){return e.load([ASSETS.css("customer","customerDetail")])},},authenticate:true,controller:"CustomerDetailController"}).state("courses.learningCourse",{url:"/learningCourse/:courseId",templateUrl:appHelper.componentView("customer","learningCourse"),resolve:{resources:function(e){return e.load([ASSETS.css("customer","learningCourse")])},},authenticate:true,controller:"LearningCourseController"}).state("courses.myCourses",{url:"/my-courses/:courseId",templateUrl:appHelper.componentView("customer","my-courses"),authenticate:true,controller:"MyCoursesController"}).state("courses.coursePayment",{url:"/coursePayment/:courseId",templateUrl:appHelper.componentView("payment","coursePayment"),resolve:{resources:function(e){return e.load([ASSETS.css("payment","coursePayment")])},},authenticate:true,controller:"CoursePaymentController"}).state("courses.homepage",{url:"/homepage",templateUrl:appHelper.componentView("homepage","homepage"),resolve:{resources:function(e){return e.load([ASSETS.css("homepage","homepage")])},},authenticate:false,controller:"HomepageController"});b.html5Mode({enabled:false,requireBase:false});a.otherwise("/courses/homepage")}]);dolphin.config(["$translateProvider",function(a){a.useStaticFilesLoader({prefix:"lang/",suffix:".json"});a.useSanitizeValueStrategy("escape");a.preferredLanguage("vn_VI")}]);dolphin.run(["$rootScope","$state","$location","$localStorage","jwtHelper","contextPath",function(a,d,f,c,e,b){a.$on("$stateChangeStart",function(i,j){var h=undefined;var g=undefined;if(f.absUrl().indexOf("?token=")!=-1){h=f.absUrl().split("?token=")[1];g=f.absUrl().split("?")[0]}else{if(f.absUrl().indexOf("&token=")!=-1){h=f.absUrl().split("&token=")[1];g=f.absUrl().split("&token=")[0]}}if(typeof h!=="undefined"&&h!==""){c.jwt=h;window.location=g}if(c.jwt&&!e.isTokenExpired(c.jwt)){a.signedInUser=c.jwt&&e.decodeToken(c.jwt)}else{if(c.jwt&&e.isTokenExpired(c.jwt)){delete c.jwt}}if(j.authenticate&&(typeof a.signedInUser==="undefined"||a.signedInUser==null)){window.location=b.idm+"/#/app/login?service="+encodeURIComponent(f.absUrl())}else{if(f.absUrl().indexOf("?shv=")!==-1&&(typeof a.signedInUser==="undefined"||a.signedInUser==null)){window.location=b.idm+"/#/app/login?service="+encodeURIComponent(f.absUrl())}}if(j.name!=="search"){$("#tl_search").val("");$("#tl_search").trigger("input")}})}]);dolphin.filter("range",function(){return function(a,c){c=parseInt(c);for(var b=0;b<c;b++){a.push(b)}return a}});