app.controller("CoursePaymentController",function(b,g,a,h,d,c,f,e){if(a.signedInUser==null){h.path("/homepage")}b.listPage=["coursePayment.STEP_1","coursePayment.STEP_2","coursePayment.STEP_3","coursePayment.STEP_4"];b.courses=[];if(d.courseId!=-1){f.loadFullCourseInfoFree.get({id:d.courseId},function(i){b.courses.push(i)})}else{b.courses=c.shoppingCart}b.userInfo={userName:a.signedInUser.sub,email:a.signedInUser.email,telephone:a.signedInUser.telephone,birthday:a.signedInUser.birthday};b.step=1;b.changeCheckoutType=function(i){b.checkoutType=i};b.nextPage=function(){if(b.step==2&&typeof b.checkoutType=="undefined"){alert("Vui lòng chọn phương thức thanh toán");return}if(b.step<4){if(b.step==3){if(confirm("Bạn có chắc muốn mua khóa học này không?")){b.courses.forEach(function(i){var j={userId:a.signedInUser.jti,courseId:i.courseId};e.createBoughtCourse.save(j);b.removeFromCart(i)})}else{return}}b.step+=1}else{if(b.step==4){h.path("/homepage")}}};b.prevPage=function(){b.step-=1}});